{"remainingRequest":"F:\\个人git项目\\squirrel-admin\\node_modules\\babel-loader\\lib\\index.js!F:\\个人git项目\\squirrel-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\个人git项目\\squirrel-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\个人git项目\\squirrel-admin\\src\\views\\file\\FileList.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\个人git项目\\squirrel-admin\\src\\views\\file\\FileList.vue","mtime":1586271473774},{"path":"F:\\个人git项目\\squirrel-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\个人git项目\\squirrel-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\个人git项目\\squirrel-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\个人git项目\\squirrel-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWl4aW4sIG1peGluRGV2aWNlIH0gZnJvbSAnQC91dGlscy9taXhpbi5qcyc7CmltcG9ydCBGaWxlUG9uZFVwbG9hZCBmcm9tICdAL2NvbXBvbmVudHMvVXBsb2FkL0ZpbGVQb25kVXBsb2FkJzsKaW1wb3J0IGF0dGFjaG1lbnRBcGkgZnJvbSAnQC9hcGkvYXR0YWNobWVudCc7CmltcG9ydCBmb2xkZXIgZnJvbSAnQC9hcGkvZm9sZGVyJzsKaW1wb3J0IEF0dGFjaG1lbnRQcmV2aWV3IGZyb20gJ0Avdmlld3MvZmlsZS9BdHRhY2htZW50UHJldmlldyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGFibGVMaXN0JywKICBjb21wb25lbnRzOiB7CiAgICBGaWxlUG9uZFVwbG9hZDogRmlsZVBvbmRVcGxvYWQsCiAgICBBdHRhY2htZW50UHJldmlldzogQXR0YWNobWVudFByZXZpZXcKICB9LAogIG1peGluczogW21peGluLCBtaXhpbkRldmljZV0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YVNvdXJjZSgpOwogICAgdGhpcy5kaXJlY3RvcnlIaXN0b3J5LnB1c2godGhpcy5xdWVyeVBhcmFtLnBhdGgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpcmVjdG9yeUhpc3Rvcnk6IFtdLAogICAgICBkaXJlY3RvcnlDdXJzb3I6IDAsCiAgICAgIHBhdGhzOiBbXSwKICAgICAgcGFyZW50UGF0aDogJycsCiAgICAgIHF1ZXJ5UGFyYW06IHsKICAgICAgICBwYXRoOiAnJwogICAgICB9LAogICAgICBsb2NhbERhdGFTb3VyY2U6IFtdLAogICAgICBzZWxlY3RlZFJvd0tleXM6IFtdLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBzZWxlY3RBdHRhY2htZW50OiB7fSwKICAgICAgY2FjaGVSZWNvcmQ6IHVuZGVmaW5lZCwKICAgICAgcmVuYW1lVmlzaWJsZTogZmFsc2UsCiAgICAgIHJlbmFtZUxvYWRpbmc6IGZhbHNlLAogICAgICB1cGxvYWRWaXNpYmxlOiBmYWxzZSwKICAgICAgdXBsb2FkSGFuZGxlcjogYXR0YWNobWVudEFwaS51cGxvYWQsCiAgICAgIGZpbGVJY29uOiBmdW5jdGlvbiBmaWxlSWNvbihzdHJpbmdUeXBlKSB7CiAgICAgICAgaWYgKHN0cmluZ1R5cGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFyIG1lZGlhVHlwZSA9IHN0cmluZ1R5cGUuc3BsaXQoJy8nKVswXTsKICAgICAgICAgIGNvbnNvbGUubG9nKG1lZGlhVHlwZSk7CgogICAgICAgICAgaWYgKG1lZGlhVHlwZSA9PT0gJ2ltYWdlJykgewogICAgICAgICAgICByZXR1cm4gJ3BpY3R1cmUnOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChtZWRpYVR5cGUgPT09ICd2aWRlbycpIHsKICAgICAgICAgICAgcmV0dXJuICdwbGF5LXNxdWFyZSc7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJ2ZvbGRlcic7CiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB0b1BhcmVudFBhdGg6IGZ1bmN0aW9uIHRvUGFyZW50UGF0aCgpIHsKICAgICAgdGhpcy5nZXREYXRhU291cmNlKHRoaXMucGFyZW50UGF0aCk7CiAgICAgIHRoaXMuZGlyZWN0b3J5SGlzdG9yeS5zcGxpY2UodGhpcy5kaXJlY3RvcnlDdXJzb3IgKyAxLCB0aGlzLmRpcmVjdG9yeUhpc3RvcnkubGVuZ3RoIC0gdGhpcy5kaXJlY3RvcnlDdXJzb3IsIHRoaXMucGFyZW50UGF0aCk7CiAgICAgIHRoaXMuZGlyZWN0b3J5Q3Vyc29yID0gdGhpcy5kaXJlY3RvcnlIaXN0b3J5Lmxlbmd0aCAtIDE7CiAgICB9LAogICAgbmV4dE9yUHJldmlvdXM6IGZ1bmN0aW9uIG5leHRPclByZXZpb3VzKHByZXZpb3VzLCBuZXh0KSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGlyZWN0b3J5Q3Vyc29yKTsKICAgICAgY29uc29sZS5sb2codGhpcy5kaXJlY3RvcnlIaXN0b3J5KTsKCiAgICAgIGlmIChwcmV2aW91cyAmJiB0aGlzLmRpcmVjdG9yeUhpc3RvcnkubGVuZ3RoID49IHRoaXMuZGlyZWN0b3J5Q3Vyc29yIC0gMSAmJiB0aGlzLmRpcmVjdG9yeUN1cnNvciA+IDApIHsKICAgICAgICB0aGlzLmdldERhdGFTb3VyY2UodGhpcy5kaXJlY3RvcnlIaXN0b3J5W3RoaXMuZGlyZWN0b3J5Q3Vyc29yIC0gMV0pOwogICAgICAgIHRoaXMuZGlyZWN0b3J5Q3Vyc29yLS07CiAgICAgIH0KCiAgICAgIGlmIChuZXh0ICYmIHRoaXMuZGlyZWN0b3J5Q3Vyc29yICsgMSA8IHRoaXMuZGlyZWN0b3J5SGlzdG9yeS5sZW5ndGgpIHsKICAgICAgICB0aGlzLmdldERhdGFTb3VyY2UodGhpcy5kaXJlY3RvcnlIaXN0b3J5W3RoaXMuZGlyZWN0b3J5Q3Vyc29yICsgMV0pOwogICAgICAgIHRoaXMuZGlyZWN0b3J5Q3Vyc29yKys7CiAgICAgIH0KICAgIH0sCiAgICBnZXREYXRhU291cmNlOiBmdW5jdGlvbiBnZXREYXRhU291cmNlKHBhdGgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CgogICAgICBpZiAocGF0aCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtLnBhdGggPSBwYXRoOwogICAgICB9CgogICAgICBmb2xkZXIucXVlcnkoT2JqZWN0LmFzc2lnbih0aGlzLnF1ZXJ5UGFyYW0pKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5sb2NhbERhdGFTb3VyY2UgPSByZXMuZm9sZGVyU3ViOwogICAgICAgIF90aGlzLnBhdGhzID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXMucXVlcnlQYXJhbSkucGF0aC5zcGxpdCgnLycpLnNsaWNlKDEpOwogICAgICAgIF90aGlzLnBhcmVudFBhdGggPSByZXMucGFyZW50OwogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgcm93Q2xpY2s6IGZ1bmN0aW9uIHJvd0NsaWNrKHJlY29yZCwgaW5kZXgpIHsKICAgICAgcmVjb3JkLmFjdGl2ZSA9IHRydWU7CiAgICB9LAogICAgcm93RGJsY2xpY2s6IGZ1bmN0aW9uIHJvd0RibGNsaWNrKHJlY29yZCkgewogICAgICBjb25zb2xlLmxvZyhyZWNvcmQpOwoKICAgICAgaWYgKHJlY29yZC5pc0ZvbGRlciAhPT0gdW5kZWZpbmVkICYgcmVjb3JkLmlzRm9sZGVyKSB7CiAgICAgICAgdGhpcy5nZXREYXRhU291cmNlKHJlY29yZC5wYXRoKTsKICAgICAgICB0aGlzLmRpcmVjdG9yeUhpc3Rvcnkuc3BsaWNlKHRoaXMuZGlyZWN0b3J5Q3Vyc29yICsgMSwgdGhpcy5kaXJlY3RvcnlIaXN0b3J5Lmxlbmd0aCAtIHRoaXMuZGlyZWN0b3J5Q3Vyc29yLCB0aGlzLnF1ZXJ5UGFyYW0ucGF0aCk7CiAgICAgICAgdGhpcy5kaXJlY3RvcnlDdXJzb3IgPSB0aGlzLmRpcmVjdG9yeUhpc3RvcnkubGVuZ3RoIC0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlbGVjdEF0dGFjaG1lbnQgPSBPYmplY3QuYXNzaWduKHt9LCByZWNvcmQpOwogICAgICB9CiAgICB9LAogICAgY29udGV4dG1lbnU6IGZ1bmN0aW9uIGNvbnRleHRtZW51KHJlY29yZCwgZXZlbnQpIHsKICAgICAgdGhpcy5jYWNoZVJlY29yZCA9IE9iamVjdC5hc3NpZ24oe30sIHJlY29yZCk7CiAgICAgIHRoaXMuJHJlZnMuY29udGV4dG1lbnUuc2hvdyh7CiAgICAgICAgdG9wOiBldmVudC5jbGllbnRZLAogICAgICAgIGxlZnQ6IGV2ZW50LmNsaWVudFgKICAgICAgfSk7CiAgICAgIHdpbmRvdy5ldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlUmVuYW1lOiBmdW5jdGlvbiBoYW5kbGVSZW5hbWUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5yZW5hbWVMb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIHJlY29yZCA9IHRoaXMuY2FjaGVSZWNvcmQ7CiAgICAgIGZvbGRlci5yZW5hbWUoewogICAgICAgICduYW1lJzogcmVjb3JkLm5hbWUsCiAgICAgICAgJ2tleSc6IHJlY29yZC5maWxlS2V5LAogICAgICAgICdwYXRoJzogdGhpcy5xdWVyeVBhcmFtLnBhdGgsCiAgICAgICAgJ2lzRm9sZGVyJzogcmVjb3JkLmlzRm9sZGVyCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5nZXREYXRhU291cmNlKCk7CgogICAgICAgIF90aGlzMi5yZW5hbWVMb2FkaW5nID0gX3RoaXMyLnJlbmFtZVZpc2libGUgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHJlY29yZCA9IHRoaXMuY2FjaGVSZWNvcmQ7CiAgICAgIGZvbGRlci5kZWxldGVkKHsKICAgICAgICAna2V5JzogcmVjb3JkLmZpbGVLZXksCiAgICAgICAgJ2lzRm9sZGVyJzogcmVjb3JkLmlzRm9sZGVyCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5nZXREYXRhU291cmNlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgX3RoaXMzLiRub3RpZmljYXRpb24uZXJyb3IoewogICAgICAgICAgbWVzc2FnZTogJ+mUmeivr+aPkOekuicsCiAgICAgICAgICBkZXNjcmlwdGlvbjogJ+W9k+WJjeebruW9leS4i+WtmOWcqOaWh+S7tuaIluaWh+S7tuWkuScKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQnJlYWRjcnVtYjogZnVuY3Rpb24gaGFuZGxlQnJlYWRjcnVtYihpKSB7CiAgICAgIHRoaXMuZ2V0RGF0YVNvdXJjZSgnLycgKyB0aGlzLnBhdGhzLnNsaWNlKDAsIGkgKyAxKS5qb2luKCcvJykpOwogICAgfSwKICAgIG9uVXBsb2FkQ2xvc2U6IGZ1bmN0aW9uIG9uVXBsb2FkQ2xvc2UoKSB7CiAgICAgIHRoaXMuJHJlZnMudXBsb2FkLmhhbmRsZUNsZWFyRmlsZUxpc3QoKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB1cGxvYWRWaXNpYmxlOiBmdW5jdGlvbiB1cGxvYWRWaXNpYmxlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICB0aGlzLmdldERhdGFTb3VyY2UoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["FileList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <a-card :bordered=\"false\">\r\n\t\t\r\n    <div class=\"table-page-search-wrapper operator\">\r\n\t\t\t<div class=\"file-path-tools\">\r\n\t\t\t\t<a-button shape=\"circle\" icon=\"arrow-left\" :class=\"{disable:directoryCursor == 0}\" @click=\"nextOrPrevious(true,false)\"/>\r\n\t\t\t\t<a-button shape=\"circle\" icon=\"arrow-up\" :class=\"{disable:parentPath == null}\" @click=\"toParentPath\"/>\r\n\t\t\t\t<a-button shape=\"circle\" icon=\"arrow-right\" :class=\"{disable:directoryCursor + 1 >= directoryHistory.length}\" @click=\"nextOrPrevious(false,true)\" />\r\n\t\t\t\t<a-button shape=\"circle\" icon=\"redo\" @click=\"getDataSource(directoryHistory[directoryCursor])\" :loading=\"loading\"/>\r\n\t\t\t</div>\r\n      <a-breadcrumb class=\"file-path\">\r\n\t\t\t\t<a-breadcrumb-item><a href=\"\" @click.self.prevent=\"getDataSource('/')\">主目录</a></a-breadcrumb-item>\r\n\t\t\t\t<a-breadcrumb-item v-for=\"(path, index) of paths\" v-bind:key=\"index\"><a href=\"\" @click.self.prevent=\"handleBreadcrumb(index)\">{{ path }}</a></a-breadcrumb-item>\r\n\t\t\t</a-breadcrumb>\r\n    </div>\r\n\t\t\r\n\t\t<div class=\"table-operator operator file-operator\">\r\n\t\t  <a-button icon=\"upload\" @click=\"uploadVisible = true\">上传</a-button>\r\n\t\t\t<a-button icon=\"folder-add\" @click=\"renameVisible = true, cacheRecord = {}\">文件夹</a-button>\r\n\t\t  <a-dropdown>\r\n\t\t    <a-menu slot=\"overlay\">\r\n\t\t      <a-menu-item key=\"1\"><a-icon type=\"delete\" />删除</a-menu-item>\r\n\t\t      <!-- lock | unlock -->\r\n\t\t      <a-menu-item key=\"2\"><a-icon type=\"lock\" />锁定</a-menu-item>\r\n\t\t    </a-menu>\r\n\t\t    <a-button style=\"margin-left: 8px\">\r\n\t\t      更多 <a-icon type=\"down\" />\r\n\t\t    </a-button>\r\n\t\t  </a-dropdown>\r\n\t\t</div>\r\n\t\t\r\n\t\t<a-spin :spinning=\"loading\">\r\n\t\t\t<a-icon slot=\"indicator\" type=\"loading\" style=\"font-size: 24px\" spin />\r\n\t\t\t<table class=\"directory\" ref=\"directory\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th class=\"directory-cell directory-head-cell\">名称</th>\r\n\t\t\t\t\t\t<th class=\"directory-cell directory-head-cell\">大小</th>\r\n\t\t\t\t\t\t<th class=\"directory-cell directory-head-cell\">日期</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr \r\n\t\t\t\t\t\t\tv-for=\"(data, index) in localDataSource\"\r\n\t\t\t\t\t\t\t@click=\"rowClick(data,index)\"\r\n\t\t\t\t\t\t\t@dblclick=\"rowDblclick(data)\" \r\n\t\t\t\t\t\t\t@contextmenu=\"contextmenu(data,$event)\" \r\n\t\t\t\t\t\t\tv-bind:key=\"data.key\" \r\n\t\t\t\t\t\t\tv-bind:class=\"{ 'active' : data.active }\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<td class=\"directory-cell\"><span class=\"file-icon\"><a-icon :type=\"fileIcon(data.mediaType)\" /></span><span class=\"file-name\">{{ data.name }}</span></td>\r\n\t\t\t\t\t\t\t<td class=\"directory-cell\">{{ data.size | fileSizeFormat }}</td>\r\n\t\t\t\t\t\t\t<td class=\"directory-cell\">{{ data.createTime | moment }}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</a-spin>\r\n\t\t\r\n\t\t<a-modal\r\n\t\t  title=\"上传附件\"\r\n\t\t  v-model=\"uploadVisible\"\r\n\t\t  :footer=\"null\"\r\n\t\t  :afterClose=\"onUploadClose\"\r\n\t\t  destroyOnClose\r\n\t\t>\r\n\t\t  <FilePondUpload\r\n\t\t    ref=\"upload\"\r\n\t\t\t\t:path=\"paths.join('/')\"\r\n\t\t    :uploadHandler=\"uploadHandler\"\r\n\t\t  ></FilePondUpload>\r\n\t\t</a-modal>\r\n\t\t\r\n\t\t<a-modal\r\n      title=\"重命名文件夹\"\r\n      :visible=\"renameVisible\"\r\n      @ok=\"handleRename\"\r\n      :confirmLoading=\"renameLoading\"\r\n      @cancel=\"renameVisible = false\"\r\n    >\r\n      <a-input size=\"large\" placeholder=\"文件名称\" v-if=\"renameVisible\" v-model=\"cacheRecord.name\" />\r\n    </a-modal>\r\n\t\t\r\n\t\t<AttachmentPreview \r\n\t\t\tref=\"attachmentPreview\"\r\n\t\t\tv-if=\"selectAttachment\"\r\n\t\t\t:attachment=\"selectAttachment\"\r\n\t\t\t>\r\n\t\t</AttachmentPreview>\r\n\t\t\r\n\t\t<v-contextmenu ref=\"contextmenu\">\r\n\t\t\t<v-contextmenu-item @click=\"renameVisible = true, cacheRecord = {}\">新建文件夹</v-contextmenu-item>\r\n\t\t\t<v-contextmenu-item @click=\"renameVisible = true\">重命名</v-contextmenu-item>\r\n\t\t\t<v-contextmenu-item @click=\"handleDelete\">删除</v-contextmenu-item>\r\n\t\t</v-contextmenu>\r\n\t\t</a-card>\r\n\t</template>\r\n\r\n<script>\r\nimport { mixin, mixinDevice } from '@/utils/mixin.js'\r\nimport FilePondUpload from '@/components/Upload/FilePondUpload'\r\nimport attachmentApi from '@/api/attachment'\r\nimport folder from '@/api/folder'\r\nimport AttachmentPreview from '@/views/file/AttachmentPreview'\r\nexport default {\r\n  name: 'TableList',\r\n\tcomponents: {\r\n\t\tFilePondUpload:\tFilePondUpload,\r\n\t\tAttachmentPreview: AttachmentPreview\r\n\t},\r\n\tmixins: [mixin, mixinDevice],\r\n\tmounted ()\t{\r\n\t\tthis.getDataSource()\r\n\t\tthis.directoryHistory.push(this.queryParam.path)\r\n\t},\r\n  data () {\r\n    return {\r\n\t\t\tdirectoryHistory: [],\r\n\t\t\tdirectoryCursor: 0,\r\n\t\t\tpaths: [],\r\n\t\t\tparentPath: '',\r\n      queryParam: {\r\n\t\t\t\tpath: ''\r\n\t\t\t},\r\n\t\t\tlocalDataSource: [],\r\n\t\t\tselectedRowKeys: [],\r\n\t\t\tloading: true,\r\n\t\t\tselectAttachment: {},\r\n\t\t\tcacheRecord: undefined,\r\n\t\t\trenameVisible: false,\r\n\t\t\trenameLoading: false,\r\n\t\t\tuploadVisible: false,\r\n\t\t\tuploadHandler: attachmentApi.upload,\r\n\t\t\tfileIcon: stringType => {\r\n\t\t\t\tif (stringType !== undefined) {\r\n\t\t\t\t\tvar mediaType = stringType.split('/')[0]\r\n\t\t\t\t\tconsole.log(mediaType)\r\n\t\t\t\t\tif (mediaType === 'image') {\r\n\t\t\t\t\t\treturn 'picture'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (mediaType === 'video') {\r\n\t\t\t\t\t\treturn 'play-square'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn 'folder'\r\n\t\t\t}\r\n    }\r\n  },\r\n  methods: {\r\n\t\ttoParentPath() {\r\n\t\t\tthis.getDataSource(this.parentPath)\r\n\t\t\tthis.directoryHistory.splice(this.directoryCursor + 1, this.directoryHistory.length - this.directoryCursor, this.parentPath)\r\n\t\t\tthis.directoryCursor = this.directoryHistory.length - 1\r\n\t\t},\r\n\t\tnextOrPrevious(previous, next) {\r\n\t\t\tconsole.log(this.directoryCursor)\r\n\t\t\tconsole.log(this.directoryHistory)\r\n\t\t\tif (previous && this.directoryHistory.length >= this.directoryCursor - 1 && this.directoryCursor > 0) { \r\n\t\t\t\tthis.getDataSource(this.directoryHistory[this.directoryCursor - 1])\r\n\t\t\t\tthis.directoryCursor--\r\n\t\t\t}\r\n\t\t\tif (next && this.directoryCursor + 1 < this.directoryHistory.length) {\r\n\t\t\t\tthis.getDataSource(this.directoryHistory[this.directoryCursor + 1])\r\n\t\t\t\tthis.directoryCursor++\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetDataSource(path) {\r\n\t\t\tthis.loading = true\r\n\t\t\tif (path !== undefined) {\r\n\t\t\t\tthis.queryParam.path = path\r\n\t\t\t}\r\n\t\t\tfolder.query(Object.assign(this.queryParam)).then(res => {\r\n\t\t\t\tthis.localDataSource = res.folderSub\r\n\t\t\t\tthis.paths = Object.assign({}, this.queryParam).path.split('/').slice(1)\r\n\t\t\t\tthis.parentPath = res.parent\r\n\t\t\t\tthis.loading = false\r\n\t\t\t})\r\n\t\t},\r\n\t\trowClick (record, index) {\r\n\t\t\trecord.active = true\r\n\t\t},\r\n\t\trowDblclick (record) {\r\n\t\t\tconsole.log(record)\r\n\t\t\tif (record.isFolder !== undefined & record.isFolder) {\r\n\t\t\t\tthis.getDataSource(record.path)\r\n\t\t\t\tthis.directoryHistory.splice(this.directoryCursor + 1, this.directoryHistory.length - this.directoryCursor, this.queryParam.path)\r\n\t\t\t\tthis.directoryCursor = this.directoryHistory.length - 1\r\n\t\t\t} else {\r\n\t\t\t\tthis.selectAttachment = Object.assign({}, record)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcontextmenu (record, event) {\r\n\t\t\tthis.cacheRecord = Object.assign({}, record)\r\n\t\t\tthis.$refs.contextmenu.show({\ttop: event.clientY,\tleft: event.clientX\t})\r\n\t\t\twindow.event.returnValue\t=\tfalse\r\n\t\t\treturn false\r\n\t\t},\r\n\t\thandleRename() {\r\n\t\t\tthis.renameLoading = true\r\n\t\t\tvar record = this.cacheRecord\r\n\t\t\tfolder.rename({ 'name': record.name, 'key': record.fileKey, 'path': this.queryParam.path, 'isFolder': record.isFolder }).then(res => {\r\n\t\t\t\tthis.getDataSource()\r\n\t\t\t\tthis.renameLoading = this.renameVisible = false\r\n\t\t\t})\r\n\t\t},\r\n\t\thandleDelete() {\r\n\t\t\tvar record = this.cacheRecord\r\n\t\t\tfolder.deleted({ 'key': record.fileKey, 'isFolder': record.isFolder }).then(res => {\r\n\t\t\t\tthis.getDataSource()\r\n\t\t\t}).catch(e => {\r\n\t\t\t\tthis.$notification.error({\r\n\t\t\t\t\tmessage: '错误提示',\r\n\t\t\t\t\tdescription: '当前目录下存在文件或文件夹'\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\thandleBreadcrumb(i) {\r\n\t\t\tthis.getDataSource('/' + this.paths.slice(0, i + 1).join('/'))\r\n\t\t},\r\n\t\tonUploadClose() {\r\n\t\t\tthis.$refs.upload.handleClearFileList()\r\n\t\t}\r\n  },\r\n\twatch: {\r\n\t\tuploadVisible: function(newValue, oldValue) {\r\n\t\t  this.getDataSource()\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.directory {\r\n\t\twidth: 100%;\r\n    display: table;\r\n    border-spacing: 0;\r\n    border-collapse: collapse;\r\n\t}\r\n\t\r\n\t.directory-cell {\r\n\t\tdisplay: table-cell;\r\n    padding: 16px;\r\n    font-size: 0.875rem;\r\n    text-align: left;\r\n    font-weight: 400;\r\n    line-height: 1.43;\r\n    border-bottom: 1px solid rgba(224, 224, 224, 1);\r\n    letter-spacing: 0.01071em;\r\n    vertical-align: inherit;\r\n\t}\r\n\t\r\n\t.directory-head-cell {\r\n\t\tcolor: rgba(0, 0, 0, 0.87);\r\n    font-weight: 500;\r\n    line-height: 1.5rem;\r\n\t}\r\n\t\r\n\t.directory tbody tr.active {\r\n\t\tbackground-color: #f5f7fa;\r\n\t}\r\n\t\r\n\t.directory tbody tr:hover {\r\n\t\tbackground-color: #f5f7fa;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t.editable-row-operations a {\r\n    margin-right: 8px;\r\n  }\r\n  .search {\r\n    margin-bottom: 54px;\r\n  }\r\n\r\n  .fold {\r\n    width: calc(100% - 216px);\r\n    display: inline-block\r\n  }\r\n\r\n  .operator {\r\n    margin-bottom: 18px;\r\n  }\r\n\t\r\n\t.file-operator > .ant-btn{\r\n\t\tmargin-right: 8px;\r\n\t}\r\n\t\r\n\t.file-path-tools {\r\n\t\tposition: absolute;\r\n\t}\r\n\t\r\n\t.file-path-tools button{\r\n\t\tfont-size: 14px;\r\n\t\tborder: 1px solid transparent;\r\n\t}\r\n\t\r\n\t.file-path-tools button:hover {\r\n\t  background-color: #f8f8f8;\r\n\t}\r\n\t\r\n\t.file-path-tools .disable {\r\n\t\tcolor: #ccc;\r\n\t}\r\n\t\r\n\t.file-path-tools .disable::after {\r\n\t\topacity: 0;\r\n\t}\r\n\t\r\n\t.file-path-tools .disable:hover {\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t\r\n\t.file-path {\r\n\t\tmargin-left: 150px;\r\n\t\tbackground-color: #f1f3f4;\r\n\t\tborder-radius: 14px;\r\n\t\tpadding: 5px 5px 5px 10px;\r\n\t}\r\n\t\r\n\t.file-icon {\r\n\t\tmargin-right: 8px;\r\n\t\tfont-size: 18px\r\n\t}\r\n\t\r\n\t.file-name {\r\n\t\tcursor: pointer\r\n\t}\r\n\t\r\n  @media screen and (max-width: 900px) {\r\n    .fold {\r\n      width: 100%;\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/views/file"}]}