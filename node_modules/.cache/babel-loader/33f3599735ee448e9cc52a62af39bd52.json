{"remainingRequest":"F:\\个人git项目\\couldr-user\\node_modules\\babel-loader\\lib\\index.js!F:\\个人git项目\\couldr-user\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\个人git项目\\couldr-user\\src\\store\\modules\\user.js","dependencies":[{"path":"F:\\个人git项目\\couldr-user\\src\\store\\modules\\user.js","mtime":1584963843357},{"path":"F:\\个人git项目\\couldr-user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\个人git项目\\couldr-user\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\个人git项目\\couldr-user\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCB7IGxvZ2luLCBnZXRJbmZvLCBsb2dvdXQgfSBmcm9tICdAL2FwaS9sb2dpbic7CmltcG9ydCB7IEFDQ0VTU19UT0tFTiB9IGZyb20gJ0Avc3RvcmUvbXV0YXRpb24tdHlwZXMnOwppbXBvcnQgeyB3ZWxjb21lIH0gZnJvbSAnQC91dGlscy91dGlsJzsKdmFyIHVzZXIgPSB7CiAgc3RhdGU6IHsKICAgIHRva2VuOiAnJywKICAgIG5hbWU6ICcnLAogICAgd2VsY29tZTogJycsCiAgICBhdmF0YXI6ICcnLAogICAgcm9sZXM6IFtdLAogICAgaW5mbzoge30KICB9LAogIG11dGF0aW9uczogewogICAgU0VUX1RPS0VOOiBmdW5jdGlvbiBTRVRfVE9LRU4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgU0VUX05BTUU6IGZ1bmN0aW9uIFNFVF9OQU1FKHN0YXRlLCBfcmVmKSB7CiAgICAgIHZhciBuYW1lID0gX3JlZi5uYW1lLAogICAgICAgICAgd2VsY29tZSA9IF9yZWYud2VsY29tZTsKICAgICAgc3RhdGUubmFtZSA9IG5hbWU7CiAgICAgIHN0YXRlLndlbGNvbWUgPSB3ZWxjb21lOwogICAgfSwKICAgIFNFVF9BVkFUQVI6IGZ1bmN0aW9uIFNFVF9BVkFUQVIoc3RhdGUsIGF2YXRhcikgewogICAgICBzdGF0ZS5hdmF0YXIgPSBhdmF0YXI7CiAgICB9LAogICAgU0VUX1JPTEVTOiBmdW5jdGlvbiBTRVRfUk9MRVMoc3RhdGUsIHJvbGVzKSB7CiAgICAgIHN0YXRlLnJvbGVzID0gcm9sZXM7CiAgICB9LAogICAgU0VUX0lORk86IGZ1bmN0aW9uIFNFVF9JTkZPKHN0YXRlLCBpbmZvKSB7CiAgICAgIHN0YXRlLmluZm8gPSBpbmZvOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy8g55m75b2VCiAgICBMb2dpbjogZnVuY3Rpb24gTG9naW4oX3JlZjIsIHVzZXJJbmZvKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgbG9naW4odXNlckluZm8pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgdG9rZW4gPSByZXNwb25zZS5hY2Nlc3NfdG9rZW47CiAgICAgICAgICBWdWUubHMuc2V0KEFDQ0VTU19UT0tFTiwgdG9rZW4sIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKTsKICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgcmVzcG9uc2UpOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W55So5oi35L+h5oGvCiAgICBHZXRJbmZvOiBmdW5jdGlvbiBHZXRJbmZvKF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgZ2V0SW5mbygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgICByZXN1bHQucm9sZSA9IHsKICAgICAgICAgICAgJ2lkJzogJ2FkbWluJywKICAgICAgICAgICAgJ25hbWUnOiAn566h55CG5ZGYJywKICAgICAgICAgICAgJ2Rlc2NyaWJlJzogJ+aLpeacieaJgOacieadg+mZkCcsCiAgICAgICAgICAgICdzdGF0dXMnOiAxLAogICAgICAgICAgICAnY3JlYXRvcklkJzogJ3N5c3RlbScsCiAgICAgICAgICAgICdjcmVhdGVUaW1lJzogMTQ5NzE2MDYxMDI1OSwKICAgICAgICAgICAgJ2RlbGV0ZWQnOiAwLAogICAgICAgICAgICAncGVybWlzc2lvbnMnOiBbewogICAgICAgICAgICAgICdyb2xlSWQnOiAnYWRtaW4nLAogICAgICAgICAgICAgICdwZXJtaXNzaW9uSWQnOiAnZGFzaGJvYXJkJywKICAgICAgICAgICAgICAncGVybWlzc2lvbk5hbWUnOiAn5Luq6KGo55uYJywKICAgICAgICAgICAgICAnYWN0aW9ucyc6ICdbeyJhY3Rpb24iOiJhZGQiLCJkZWZhdWx0Q2hlY2siOmZhbHNlLCJkZXNjcmliZSI6IuaWsOWiniJ9LHsiYWN0aW9uIjoicXVlcnkiLCJkZWZhdWx0Q2hlY2siOmZhbHNlLCJkZXNjcmliZSI6IuafpeivoiJ9LHsiYWN0aW9uIjoiZ2V0IiwiZGVmYXVsdENoZWNrIjpmYWxzZSwiZGVzY3JpYmUiOiLor6bmg4UifSx7ImFjdGlvbiI6InVwZGF0ZSIsImRlZmF1bHRDaGVjayI6ZmFsc2UsImRlc2NyaWJlIjoi5L+u5pS5In0seyJhY3Rpb24iOiJkZWxldGUiLCJkZWZhdWx0Q2hlY2siOmZhbHNlLCJkZXNjcmliZSI6IuWIoOmZpCJ9XScsCiAgICAgICAgICAgICAgJ2FjdGlvbkVudGl0eVNldCc6IFt7CiAgICAgICAgICAgICAgICAnYWN0aW9uJzogJ2FkZCcsCiAgICAgICAgICAgICAgICAnZGVzY3JpYmUnOiAn5paw5aKeJywKICAgICAgICAgICAgICAgICdkZWZhdWx0Q2hlY2snOiBmYWxzZQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICdhY3Rpb24nOiAncXVlcnknLAogICAgICAgICAgICAgICAgJ2Rlc2NyaWJlJzogJ+afpeivoicsCiAgICAgICAgICAgICAgICAnZGVmYXVsdENoZWNrJzogZmFsc2UKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAnYWN0aW9uJzogJ2dldCcsCiAgICAgICAgICAgICAgICAnZGVzY3JpYmUnOiAn6K+m5oOFJywKICAgICAgICAgICAgICAgICdkZWZhdWx0Q2hlY2snOiBmYWxzZQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICdhY3Rpb24nOiAndXBkYXRlJywKICAgICAgICAgICAgICAgICdkZXNjcmliZSc6ICfkv67mlLknLAogICAgICAgICAgICAgICAgJ2RlZmF1bHRDaGVjayc6IGZhbHNlCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgJ2FjdGlvbic6ICdkZWxldGUnLAogICAgICAgICAgICAgICAgJ2Rlc2NyaWJlJzogJ+WIoOmZpCcsCiAgICAgICAgICAgICAgICAnZGVmYXVsdENoZWNrJzogZmFsc2UKICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAnYWN0aW9uTGlzdCc6IG51bGwsCiAgICAgICAgICAgICAgJ2RhdGFBY2Nlc3MnOiBudWxsCiAgICAgICAgICAgIH1dCiAgICAgICAgICB9OwogICAgICAgICAgcmVzdWx0LnJvbGUucGVybWlzc2lvbnMucHVzaCh7CiAgICAgICAgICAgICdyb2xlSWQnOiAnYWRtaW4nLAogICAgICAgICAgICAncGVybWlzc2lvbklkJzogJ3N1cHBvcnQnLAogICAgICAgICAgICAncGVybWlzc2lvbk5hbWUnOiAn6LaF57qn5qih5Z2XJywKICAgICAgICAgICAgJ2FjdGlvbnMnOiAnW3siYWN0aW9uIjoiYWRkIiwiZGVmYXVsdENoZWNrIjpmYWxzZSwiZGVzY3JpYmUiOiLmlrDlop4ifSx7ImFjdGlvbiI6ImltcG9ydCIsImRlZmF1bHRDaGVjayI6ZmFsc2UsImRlc2NyaWJlIjoi5a+85YWlIn0seyJhY3Rpb24iOiJnZXQiLCJkZWZhdWx0Q2hlY2siOmZhbHNlLCJkZXNjcmliZSI6IuivpuaDhSJ9LHsiYWN0aW9uIjoidXBkYXRlIiwiZGVmYXVsdENoZWNrIjpmYWxzZSwiZGVzY3JpYmUiOiLkv67mlLkifSx7ImFjdGlvbiI6ImRlbGV0ZSIsImRlZmF1bHRDaGVjayI6ZmFsc2UsImRlc2NyaWJlIjoi5Yig6ZmkIn0seyJhY3Rpb24iOiJleHBvcnQiLCJkZWZhdWx0Q2hlY2siOmZhbHNlLCJkZXNjcmliZSI6IuWvvOWHuiJ9XScsCiAgICAgICAgICAgICdhY3Rpb25FbnRpdHlTZXQnOiBbewogICAgICAgICAgICAgICdhY3Rpb24nOiAnYWRkJywKICAgICAgICAgICAgICAnZGVzY3JpYmUnOiAn5paw5aKeJywKICAgICAgICAgICAgICAnZGVmYXVsdENoZWNrJzogZmFsc2UKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICdhY3Rpb24nOiAnaW1wb3J0JywKICAgICAgICAgICAgICAnZGVzY3JpYmUnOiAn5a+85YWlJywKICAgICAgICAgICAgICAnZGVmYXVsdENoZWNrJzogZmFsc2UKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICdhY3Rpb24nOiAnZ2V0JywKICAgICAgICAgICAgICAnZGVzY3JpYmUnOiAn6K+m5oOFJywKICAgICAgICAgICAgICAnZGVmYXVsdENoZWNrJzogZmFsc2UKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICdhY3Rpb24nOiAndXBkYXRlJywKICAgICAgICAgICAgICAnZGVzY3JpYmUnOiAn5L+u5pS5JywKICAgICAgICAgICAgICAnZGVmYXVsdENoZWNrJzogZmFsc2UKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICdhY3Rpb24nOiAnZGVsZXRlJywKICAgICAgICAgICAgICAnZGVzY3JpYmUnOiAn5Yig6ZmkJywKICAgICAgICAgICAgICAnZGVmYXVsdENoZWNrJzogZmFsc2UKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICdhY3Rpb24nOiAnZXhwb3J0JywKICAgICAgICAgICAgICAnZGVzY3JpYmUnOiAn5a+85Ye6JywKICAgICAgICAgICAgICAnZGVmYXVsdENoZWNrJzogZmFsc2UKICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICdhY3Rpb25MaXN0JzogbnVsbCwKICAgICAgICAgICAgJ2RhdGFBY2Nlc3MnOiBudWxsCiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAocmVzdWx0LnJvbGUgJiYgcmVzdWx0LnJvbGUucGVybWlzc2lvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YXIgcm9sZSA9IHJlc3VsdC5yb2xlOwogICAgICAgICAgICByb2xlLnBlcm1pc3Npb25zID0gcmVzdWx0LnJvbGUucGVybWlzc2lvbnM7CiAgICAgICAgICAgIHJvbGUucGVybWlzc2lvbnMubWFwKGZ1bmN0aW9uIChwZXIpIHsKICAgICAgICAgICAgICBpZiAocGVyLmFjdGlvbkVudGl0eVNldCAhPSBudWxsICYmIHBlci5hY3Rpb25FbnRpdHlTZXQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IHBlci5hY3Rpb25FbnRpdHlTZXQubWFwKGZ1bmN0aW9uIChhY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5hY3Rpb247CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHBlci5hY3Rpb25MaXN0ID0gYWN0aW9uOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJvbGUucGVybWlzc2lvbkxpc3QgPSByb2xlLnBlcm1pc3Npb25zLm1hcChmdW5jdGlvbiAocGVybWlzc2lvbikgewogICAgICAgICAgICAgIHJldHVybiBwZXJtaXNzaW9uLnBlcm1pc3Npb25JZDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNvbW1pdCgnU0VUX1JPTEVTJywgcmVzdWx0LnJvbGUpOwogICAgICAgICAgICBjb21taXQoJ1NFVF9JTkZPJywgcmVzdWx0KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjY2MnKTsKICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SW5mbzogcm9sZXMgbXVzdCBiZSBhIG5vbi1udWxsIGFycmF5ICEnKSk7CiAgICAgICAgICB9CgogICAgICAgICAgY29tbWl0KCdTRVRfSU5GTycsIHJlc3VsdCk7CiAgICAgICAgICBjb21taXQoJ1NFVF9OQU1FJywgewogICAgICAgICAgICBuYW1lOiByZXN1bHQubmlja25hbWUsCiAgICAgICAgICAgIHdlbGNvbWU6IHdlbGNvbWUoKQogICAgICAgICAgfSk7CiAgICAgICAgICBjb21taXQoJ1NFVF9BVkFUQVInLCByZXN1bHQuYXZhdGFyKTsKICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g55m75Ye6CiAgICBMb2dvdXQ6IGZ1bmN0aW9uIExvZ291dChfcmVmNCkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjQuY29tbWl0LAogICAgICAgICAgc3RhdGUgPSBfcmVmNC5zdGF0ZTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgbG9nb3V0KHN0YXRlLnRva2VuKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsICcnKTsKICAgICAgICAgIC8qIGNvbW1pdCgnU0VUX1JPTEVTJywgW10pICovCgogICAgICAgICAgVnVlLmxzLnJlbW92ZShBQ0NFU1NfVE9LRU4pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHVzZXI7"},{"version":3,"sources":["F:/个人git项目/couldr-user/src/store/modules/user.js"],"names":["Vue","login","getInfo","logout","ACCESS_TOKEN","welcome","user","state","token","name","avatar","roles","info","mutations","SET_TOKEN","SET_NAME","SET_AVATAR","SET_ROLES","SET_INFO","actions","Login","userInfo","commit","Promise","resolve","reject","then","response","access_token","ls","set","catch","error","GetInfo","result","data","console","log","role","permissions","push","length","map","per","actionEntitySet","action","actionList","permissionList","permission","permissionId","Error","nickname","Logout","finally","remove"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport { login, getInfo, logout } from '@/api/login'\r\nimport { ACCESS_TOKEN } from '@/store/mutation-types'\r\nimport { welcome } from '@/utils/util'\r\n\r\nconst user = {\r\n  state: {\r\n    token: '',\r\n    name: '',\r\n    welcome: '',\r\n    avatar: '',\r\n    roles: [],\r\n    info: {}\r\n  },\r\n\r\n  mutations: {\r\n    SET_TOKEN: (state, token) => {\r\n      state.token = token\r\n    },\r\n    SET_NAME: (state, { name, welcome }) => {\r\n      state.name = name\r\n      state.welcome = welcome\r\n    },\r\n    SET_AVATAR: (state, avatar) => {\r\n      state.avatar = avatar\r\n    },\r\n    SET_ROLES: (state, roles) => {\r\n      state.roles = roles\r\n    },\r\n    SET_INFO: (state, info) => {\r\n      state.info = info\r\n    }\r\n  },\r\n\r\n  actions: {\r\n    // 登录\r\n    Login ({ commit }, userInfo) {\r\n      return new Promise((resolve, reject) => {\r\n        login(userInfo).then(response => {\r\n          const token = response.access_token\r\n          Vue.ls.set(ACCESS_TOKEN, token, 7 * 24 * 60 * 60 * 1000)\r\n          commit('SET_TOKEN', response)\r\n          resolve()\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    },\r\n\r\n    // 获取用户信息\r\n    GetInfo ({ commit }) {\r\n      return new Promise((resolve, reject) => {\r\n        getInfo().then(response => {\r\n          const result = response.data\r\n\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\tresult.role = {\r\n\t\t\t\t\t\t'id': 'admin',\r\n\t\t\t\t\t\t'name': '管理员',\r\n\t\t\t\t\t\t'describe': '拥有所有权限',\r\n\t\t\t\t\t\t'status': 1,\r\n\t\t\t\t\t\t'creatorId': 'system',\r\n\t\t\t\t\t\t'createTime': 1497160610259,\r\n\t\t\t\t\t\t'deleted': 0,\r\n\t\t\t\t\t\t'permissions': [{\r\n\t\t\t\t\t\t\t'roleId': 'admin',\r\n\t\t\t\t\t\t\t'permissionId': 'dashboard',\r\n\t\t\t\t\t\t\t'permissionName': '仪表盘',\r\n\t\t\t\t\t\t\t'actions': '[{\"action\":\"add\",\"defaultCheck\":false,\"describe\":\"新增\"},{\"action\":\"query\",\"defaultCheck\":false,\"describe\":\"查询\"},{\"action\":\"get\",\"defaultCheck\":false,\"describe\":\"详情\"},{\"action\":\"update\",\"defaultCheck\":false,\"describe\":\"修改\"},{\"action\":\"delete\",\"defaultCheck\":false,\"describe\":\"删除\"}]',\r\n\t\t\t\t\t\t\t'actionEntitySet': [{\r\n\t\t\t\t\t\t\t\t'action': 'add',\r\n\t\t\t\t\t\t\t\t'describe': '新增',\r\n\t\t\t\t\t\t\t\t'defaultCheck': false\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t'action': 'query',\r\n\t\t\t\t\t\t\t\t'describe': '查询',\r\n\t\t\t\t\t\t\t\t'defaultCheck': false\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t'action': 'get',\r\n\t\t\t\t\t\t\t\t'describe': '详情',\r\n\t\t\t\t\t\t\t\t'defaultCheck': false\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t'action': 'update',\r\n\t\t\t\t\t\t\t\t'describe': '修改',\r\n\t\t\t\t\t\t\t\t'defaultCheck': false\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\t'action': 'delete',\r\n\t\t\t\t\t\t\t\t'describe': '删除',\r\n\t\t\t\t\t\t\t\t'defaultCheck': false\r\n\t\t\t\t\t\t\t}],\r\n\t\t\t\t\t\t\t'actionList': null,\r\n\t\t\t\t\t\t\t'dataAccess': null\r\n\t\t\t\t\t\t}]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult.role.permissions.push({\r\n\t\t\t\t\t  'roleId': 'admin',\r\n\t\t\t\t\t  'permissionId': 'support',\r\n\t\t\t\t\t  'permissionName': '超级模块',\r\n\t\t\t\t\t  'actions': '[{\"action\":\"add\",\"defaultCheck\":false,\"describe\":\"新增\"},{\"action\":\"import\",\"defaultCheck\":false,\"describe\":\"导入\"},{\"action\":\"get\",\"defaultCheck\":false,\"describe\":\"详情\"},{\"action\":\"update\",\"defaultCheck\":false,\"describe\":\"修改\"},{\"action\":\"delete\",\"defaultCheck\":false,\"describe\":\"删除\"},{\"action\":\"export\",\"defaultCheck\":false,\"describe\":\"导出\"}]',\r\n\t\t\t\t\t  'actionEntitySet': [{\r\n\t\t\t\t\t    'action': 'add',\r\n\t\t\t\t\t    'describe': '新增',\r\n\t\t\t\t\t    'defaultCheck': false\r\n\t\t\t\t\t  }, {\r\n\t\t\t\t\t    'action': 'import',\r\n\t\t\t\t\t    'describe': '导入',\r\n\t\t\t\t\t    'defaultCheck': false\r\n\t\t\t\t\t  }, {\r\n\t\t\t\t\t    'action': 'get',\r\n\t\t\t\t\t    'describe': '详情',\r\n\t\t\t\t\t    'defaultCheck': false\r\n\t\t\t\t\t  }, {\r\n\t\t\t\t\t    'action': 'update',\r\n\t\t\t\t\t    'describe': '修改',\r\n\t\t\t\t\t    'defaultCheck': false\r\n\t\t\t\t\t  }, {\r\n\t\t\t\t\t    'action': 'delete',\r\n\t\t\t\t\t    'describe': '删除',\r\n\t\t\t\t\t    'defaultCheck': false\r\n\t\t\t\t\t  }, {\r\n\t\t\t\t\t    'action': 'export',\r\n\t\t\t\t\t    'describe': '导出',\r\n\t\t\t\t\t    'defaultCheck': false\r\n\t\t\t\t\t  }],\r\n\t\t\t\t\t  'actionList': null,\r\n\t\t\t\t\t  'dataAccess': null\r\n\t\t\t\t\t})\r\n          if (result.role && result.role.permissions.length > 0) {\r\n            const role = result.role\r\n            role.permissions = result.role.permissions\r\n            role.permissions.map(per => {\r\n              if (per.actionEntitySet != null && per.actionEntitySet.length > 0) {\r\n                const action = per.actionEntitySet.map(action => { return action.action })\r\n                per.actionList = action\r\n              }\r\n            })\r\n            role.permissionList = role.permissions.map(permission => { return permission.permissionId })\r\n\t\t\t\t\t\t\r\n            commit('SET_ROLES', result.role)\r\n            commit('SET_INFO', result)\r\n          } else {\r\n\t\t\t\t\t\tconsole.log('ccc')\r\n            reject(new Error('getInfo: roles must be a non-null array !'))\r\n          }\r\n\t\t\t\t\tcommit('SET_INFO', result)\r\n          commit('SET_NAME', { name: result.nickname, welcome: welcome() })\r\n          commit('SET_AVATAR', result.avatar)\r\n\r\n          resolve(response)\r\n        }).catch(error => {\r\n          reject(error)\r\n        })\r\n      })\r\n    },\r\n\r\n    // 登出\r\n    Logout ({ commit, state }) {\r\n      return new Promise((resolve) => {\r\n        logout(state.token).then(() => {\r\n          resolve()\r\n        }).catch(() => {\r\n          resolve()\r\n        }).finally(() => {\r\n          commit('SET_TOKEN', '')\r\n          /* commit('SET_ROLES', []) */\r\n          Vue.ls.remove(ACCESS_TOKEN)\r\n        })\r\n      })\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport default user\r\n"]}]}