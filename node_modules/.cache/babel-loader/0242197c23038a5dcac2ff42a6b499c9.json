{"remainingRequest":"F:\\个人git项目\\couldr-user\\node_modules\\babel-loader\\lib\\index.js!F:\\个人git项目\\couldr-user\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\个人git项目\\couldr-user\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\个人git项目\\couldr-user\\src\\views\\file\\FileList.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\个人git项目\\couldr-user\\src\\views\\file\\FileList.vue","mtime":1585658947931},{"path":"F:\\个人git项目\\couldr-user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\个人git项目\\couldr-user\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\个人git项目\\couldr-user\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\个人git项目\\couldr-user\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWl4aW4sIG1peGluRGV2aWNlIH0gZnJvbSAnQC91dGlscy9taXhpbi5qcyc7CmltcG9ydCBGaWxlUG9uZFVwbG9hZCBmcm9tICdAL2NvbXBvbmVudHMvVXBsb2FkL0ZpbGVQb25kVXBsb2FkJzsKaW1wb3J0IGF0dGFjaG1lbnRBcGkgZnJvbSAnQC9hcGkvYXR0YWNobWVudCc7CmltcG9ydCBkaXJlY3RvcnlBcGkgZnJvbSAnQC9hcGkvZGlyZWN0b3J5JzsKaW1wb3J0IEF0dGFjaG1lbnRQcmV2aWV3IGZyb20gJ0Avdmlld3MvZmlsZS9BdHRhY2htZW50UHJldmlldyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGFibGVMaXN0JywKICBjb21wb25lbnRzOiB7CiAgICBGaWxlUG9uZFVwbG9hZDogRmlsZVBvbmRVcGxvYWQsCiAgICBBdHRhY2htZW50UHJldmlldzogQXR0YWNobWVudFByZXZpZXcKICB9LAogIG1peGluczogW21peGluLCBtaXhpbkRldmljZV0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YVNvdXJjZSgpOwogICAgdGhpcy5kaXJlY3RvcnlIaXN0b3J5LnB1c2godGhpcy5xdWVyeVBhcmFtLnBhdGgpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpcmVjdG9yeUhpc3Rvcnk6IFtdLAogICAgICBkaXJlY3RvcnlDdXJzb3I6IDAsCiAgICAgIHBhdGhzOiBbXSwKICAgICAgcGFyZW50UGF0aDogJycsCiAgICAgIHF1ZXJ5UGFyYW06IHsKICAgICAgICBwYXRoOiAnJwogICAgICB9LAogICAgICBsb2NhbERhdGFTb3VyY2U6IFtdLAogICAgICBzZWxlY3RlZFJvd0tleXM6IFtdLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBzZWxlY3RBdHRhY2htZW50OiB7fSwKICAgICAgY2FjaGVSZWNvcmQ6IHVuZGVmaW5lZCwKICAgICAgcmVuYW1lVmlzaWJsZTogZmFsc2UsCiAgICAgIHJlbmFtZUxvYWRpbmc6IGZhbHNlLAogICAgICB1cGxvYWRWaXNpYmxlOiBmYWxzZSwKICAgICAgdXBsb2FkSGFuZGxlcjogYXR0YWNobWVudEFwaS51cGxvYWQsCiAgICAgIGZpbGVJY29uOiBmdW5jdGlvbiBmaWxlSWNvbihzdHJpbmdUeXBlKSB7CiAgICAgICAgaWYgKHN0cmluZ1R5cGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgdmFyIG1lZGlhVHlwZSA9IHN0cmluZ1R5cGUuc3BsaXQoJy8nKVswXTsKICAgICAgICAgIGNvbnNvbGUubG9nKG1lZGlhVHlwZSk7CgogICAgICAgICAgaWYgKG1lZGlhVHlwZSA9PT0gJ2ltYWdlJykgewogICAgICAgICAgICByZXR1cm4gJ3BpY3R1cmUnOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChtZWRpYVR5cGUgPT09ICd2aWRlbycpIHsKICAgICAgICAgICAgcmV0dXJuICdwbGF5LXNxdWFyZSc7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJ2ZvbGRlcic7CiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB0b1BhcmVudFBhdGg6IGZ1bmN0aW9uIHRvUGFyZW50UGF0aCgpIHsKICAgICAgdGhpcy5nZXREYXRhU291cmNlKHRoaXMucGFyZW50UGF0aCk7CiAgICAgIHRoaXMuZGlyZWN0b3J5SGlzdG9yeS5zcGxpY2UodGhpcy5kaXJlY3RvcnlDdXJzb3IgKyAxLCB0aGlzLmRpcmVjdG9yeUhpc3RvcnkubGVuZ3RoIC0gdGhpcy5kaXJlY3RvcnlDdXJzb3IsIHRoaXMucGFyZW50UGF0aCk7CiAgICAgIHRoaXMuZGlyZWN0b3J5Q3Vyc29yID0gdGhpcy5kaXJlY3RvcnlIaXN0b3J5Lmxlbmd0aCAtIDE7CiAgICB9LAogICAgbmV4dE9yUHJldmlvdXM6IGZ1bmN0aW9uIG5leHRPclByZXZpb3VzKHByZXZpb3VzLCBuZXh0KSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGlyZWN0b3J5Q3Vyc29yKTsKICAgICAgY29uc29sZS5sb2codGhpcy5kaXJlY3RvcnlIaXN0b3J5KTsKCiAgICAgIGlmIChwcmV2aW91cyAmJiB0aGlzLmRpcmVjdG9yeUhpc3RvcnkubGVuZ3RoID49IHRoaXMuZGlyZWN0b3J5Q3Vyc29yIC0gMSAmJiB0aGlzLmRpcmVjdG9yeUN1cnNvciA+IDApIHsKICAgICAgICB0aGlzLmdldERhdGFTb3VyY2UodGhpcy5kaXJlY3RvcnlIaXN0b3J5W3RoaXMuZGlyZWN0b3J5Q3Vyc29yIC0gMV0pOwogICAgICAgIHRoaXMuZGlyZWN0b3J5Q3Vyc29yLS07CiAgICAgIH0KCiAgICAgIGlmIChuZXh0ICYmIHRoaXMuZGlyZWN0b3J5Q3Vyc29yICsgMSA8IHRoaXMuZGlyZWN0b3J5SGlzdG9yeS5sZW5ndGgpIHsKICAgICAgICB0aGlzLmdldERhdGFTb3VyY2UodGhpcy5kaXJlY3RvcnlIaXN0b3J5W3RoaXMuZGlyZWN0b3J5Q3Vyc29yICsgMV0pOwogICAgICAgIHRoaXMuZGlyZWN0b3J5Q3Vyc29yKys7CiAgICAgIH0KICAgIH0sCiAgICBnZXREYXRhU291cmNlOiBmdW5jdGlvbiBnZXREYXRhU291cmNlKHBhdGgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CgogICAgICBpZiAocGF0aCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtLnBhdGggPSBwYXRoOwogICAgICB9CgogICAgICBkaXJlY3RvcnlBcGkucXVlcnkoT2JqZWN0LmFzc2lnbih0aGlzLnF1ZXJ5UGFyYW0pKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5sb2NhbERhdGFTb3VyY2UgPSBbXTsKCiAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCByZXMuZGF0YS5kaXJlY3RvcnlMaXN0Lmxlbmd0aDsgZCsrKSB7CiAgICAgICAgICB2YXIgaXRlbUQgPSByZXMuZGF0YS5kaXJlY3RvcnlMaXN0W2RdOwogICAgICAgICAgaXRlbUQuZmlsZUtleSA9IGl0ZW1ELmlkOwogICAgICAgICAgaXRlbUQuaXNEaXJlY3RvcnkgPSB0cnVlOwogICAgICAgICAgaXRlbUQuYWN0aXZlID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMubG9jYWxEYXRhU291cmNlLnB1c2goaXRlbUQpOwogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCByZXMuZGF0YS5hdHRhY2htZW50TGlzdC5sZW5ndGg7IGErKykgewogICAgICAgICAgdmFyIGl0ZW1BID0gcmVzLmRhdGEuYXR0YWNobWVudExpc3RbYV07CiAgICAgICAgICBpdGVtQS5hY3RpdmUgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpcy5sb2NhbERhdGFTb3VyY2UucHVzaChpdGVtQSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5wYXRocyA9IE9iamVjdC5hc3NpZ24oe30sIF90aGlzLnF1ZXJ5UGFyYW0pLnBhdGguc3BsaXQoJy8nKS5zbGljZSgxKTsKICAgICAgICBfdGhpcy5wYXJlbnRQYXRoID0gcmVzLmRhdGEucGFyZW50OwogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgcm93Q2xpY2s6IGZ1bmN0aW9uIHJvd0NsaWNrKHJlY29yZCwgaW5kZXgpIHsKICAgICAgcmVjb3JkLmFjdGl2ZSA9IHRydWU7CiAgICB9LAogICAgcm93RGJsY2xpY2s6IGZ1bmN0aW9uIHJvd0RibGNsaWNrKHJlY29yZCkgewogICAgICBpZiAocmVjb3JkLmlzRGlyZWN0b3J5ICE9PSB1bmRlZmluZWQgJiByZWNvcmQuaXNEaXJlY3RvcnkpIHsKICAgICAgICB0aGlzLmdldERhdGFTb3VyY2UocmVjb3JkLnBhdGgpOwogICAgICAgIHRoaXMuZGlyZWN0b3J5SGlzdG9yeS5zcGxpY2UodGhpcy5kaXJlY3RvcnlDdXJzb3IgKyAxLCB0aGlzLmRpcmVjdG9yeUhpc3RvcnkubGVuZ3RoIC0gdGhpcy5kaXJlY3RvcnlDdXJzb3IsIHRoaXMucXVlcnlQYXJhbS5wYXRoKTsKICAgICAgICB0aGlzLmRpcmVjdG9yeUN1cnNvciA9IHRoaXMuZGlyZWN0b3J5SGlzdG9yeS5sZW5ndGggLSAxOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0QXR0YWNobWVudCA9IE9iamVjdC5hc3NpZ24oe30sIHJlY29yZCk7CiAgICAgIH0KICAgIH0sCiAgICBjb250ZXh0bWVudTogZnVuY3Rpb24gY29udGV4dG1lbnUocmVjb3JkLCBldmVudCkgewogICAgICB0aGlzLmNhY2hlUmVjb3JkID0gT2JqZWN0LmFzc2lnbih7fSwgcmVjb3JkKTsKICAgICAgdGhpcy4kcmVmcy5jb250ZXh0bWVudS5zaG93KHsKICAgICAgICB0b3A6IGV2ZW50LmNsaWVudFksCiAgICAgICAgbGVmdDogZXZlbnQuY2xpZW50WAogICAgICB9KTsKICAgICAgd2luZG93LmV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVSZW5hbWU6IGZ1bmN0aW9uIGhhbmRsZVJlbmFtZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnJlbmFtZUxvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgcmVjb3JkID0gdGhpcy5jYWNoZVJlY29yZDsKICAgICAgZGlyZWN0b3J5QXBpLnJlbmFtZSh7CiAgICAgICAgJ25hbWUnOiByZWNvcmQubmFtZSwKICAgICAgICAna2V5JzogcmVjb3JkLmZpbGVLZXksCiAgICAgICAgJ3BhdGgnOiB0aGlzLnF1ZXJ5UGFyYW0ucGF0aCwKICAgICAgICAnaXNEaXJlY3RvcnknOiByZWNvcmQuaXNEaXJlY3RvcnkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmdldERhdGFTb3VyY2UoKTsKCiAgICAgICAgX3RoaXMyLnJlbmFtZUxvYWRpbmcgPSBfdGhpczIucmVuYW1lVmlzaWJsZSA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgcmVjb3JkID0gdGhpcy5jYWNoZVJlY29yZDsKICAgICAgZGlyZWN0b3J5QXBpLmRlbGV0ZWQoewogICAgICAgICdrZXknOiByZWNvcmQuZmlsZUtleSwKICAgICAgICAnaXNEaXJlY3RvcnknOiByZWNvcmQuaXNEaXJlY3RvcnkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLmdldERhdGFTb3VyY2UoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBfdGhpczMuJG5vdGlmaWNhdGlvbi5lcnJvcih7CiAgICAgICAgICBtZXNzYWdlOiAn6ZSZ6K+v5o+Q56S6JywKICAgICAgICAgIGRlc2NyaXB0aW9uOiAn5b2T5YmN55uu5b2V5LiL5a2Y5Zyo5paH5Lu25oiW5paH5Lu25aS5JwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVCcmVhZGNydW1iOiBmdW5jdGlvbiBoYW5kbGVCcmVhZGNydW1iKGkpIHsKICAgICAgdGhpcy5nZXREYXRhU291cmNlKCcvJyArIHRoaXMucGF0aHMuc2xpY2UoMCwgaSArIDEpLmpvaW4oJy8nKSk7CiAgICB9LAogICAgb25VcGxvYWRDbG9zZTogZnVuY3Rpb24gb25VcGxvYWRDbG9zZSgpIHsKICAgICAgdGhpcy4kcmVmcy51cGxvYWQuaGFuZGxlQ2xlYXJGaWxlTGlzdCgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["FileList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <a-card :bordered=\"false\">\r\n\t\t\r\n    <div class=\"table-page-search-wrapper operator\">\r\n\t\t\t<div class=\"file-path-tools\">\r\n\t\t\t\t<a-button shape=\"circle\" icon=\"arrow-left\" :class=\"{disable:directoryCursor == 0}\" @click=\"nextOrPrevious(true,false)\"/>\r\n\t\t\t\t<a-button shape=\"circle\" icon=\"arrow-up\" :class=\"{disable:parentPath == null}\" @click=\"toParentPath\"/>\r\n\t\t\t\t<a-button shape=\"circle\" icon=\"arrow-right\" :class=\"{disable:directoryCursor + 1 >= directoryHistory.length}\" @click=\"nextOrPrevious(false,true)\" />\r\n\t\t\t\t<a-button shape=\"circle\" icon=\"redo\" @click=\"getDataSource(directoryHistory[directoryCursor])\" :loading=\"loading\"/>\r\n\t\t\t</div>\r\n      <a-breadcrumb class=\"file-path\">\r\n\t\t\t\t<a-breadcrumb-item><a href=\"\" @click.self.prevent=\"getDataSource('/')\">主目录</a></a-breadcrumb-item>\r\n\t\t\t\t<a-breadcrumb-item v-for=\"(path, index) of paths\" v-bind:key=\"index\"><a href=\"\" @click.self.prevent=\"handleBreadcrumb(index)\">{{ path }}</a></a-breadcrumb-item>\r\n\t\t\t</a-breadcrumb>\r\n    </div>\r\n\t\t\r\n\t\t<div class=\"table-operator operator file-operator\">\r\n\t\t  <a-button icon=\"upload\" @click=\"uploadVisible = true\">上传</a-button>\r\n\t\t\t<a-button icon=\"folder-add\" @click=\"renameVisible = true, cacheRecord = {}\">文件夹</a-button>\r\n\t\t  <a-dropdown>\r\n\t\t    <a-menu slot=\"overlay\">\r\n\t\t      <a-menu-item key=\"1\"><a-icon type=\"delete\" />删除</a-menu-item>\r\n\t\t      <!-- lock | unlock -->\r\n\t\t      <a-menu-item key=\"2\"><a-icon type=\"lock\" />锁定</a-menu-item>\r\n\t\t    </a-menu>\r\n\t\t    <a-button style=\"margin-left: 8px\">\r\n\t\t      更多 <a-icon type=\"down\" />\r\n\t\t    </a-button>\r\n\t\t  </a-dropdown>\r\n\t\t</div>\r\n\t\t\r\n\t\t<a-spin :spinning=\"loading\">\r\n\t\t\t<a-icon slot=\"indicator\" type=\"loading\" style=\"font-size: 24px\" spin />\r\n\t\t\t<table class=\"directory\" ref=\"directory\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th class=\"directory-cell directory-head-cell\">名称</th>\r\n\t\t\t\t\t\t<th class=\"directory-cell directory-head-cell\">大小</th>\r\n\t\t\t\t\t\t<th class=\"directory-cell directory-head-cell\">日期</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr \r\n\t\t\t\t\t\t\tv-for=\"(data, index) in localDataSource\"\r\n\t\t\t\t\t\t\t@click=\"rowClick(data,index)\"\r\n\t\t\t\t\t\t\t@dblclick=\"rowDblclick(data)\" \r\n\t\t\t\t\t\t\t@contextmenu=\"contextmenu(data,$event)\" \r\n\t\t\t\t\t\t\tv-bind:key=\"data.key\" \r\n\t\t\t\t\t\t\tv-bind:class=\"{ 'active' : data.active }\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<td class=\"directory-cell\"><span class=\"file-icon\"><a-icon :type=\"fileIcon(data.mediaType)\" /></span><span class=\"file-name\">{{ data.name }}</span></td>\r\n\t\t\t\t\t\t\t<td class=\"directory-cell\">{{ data.size | fileSizeFormat }}</td>\r\n\t\t\t\t\t\t\t<td class=\"directory-cell\">{{ data.createTime | moment }}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</a-spin>\r\n\t\t\r\n\t\t<a-modal\r\n\t\t  title=\"上传附件\"\r\n\t\t  v-model=\"uploadVisible\"\r\n\t\t  :footer=\"null\"\r\n\t\t  :afterClose=\"onUploadClose\"\r\n\t\t  destroyOnClose\r\n\t\t>\r\n\t\t  <FilePondUpload\r\n\t\t    ref=\"upload\"\r\n\t\t\t\t:path=\"paths.join('/')\"\r\n\t\t    :uploadHandler=\"uploadHandler\"\r\n\t\t  ></FilePondUpload>\r\n\t\t</a-modal>\r\n\t\t\r\n\t\t<a-modal\r\n      title=\"重命名文件夹\"\r\n      :visible=\"renameVisible\"\r\n      @ok=\"handleRename\"\r\n      :confirmLoading=\"renameLoading\"\r\n      @cancel=\"renameVisible = false\"\r\n    >\r\n      <a-input size=\"large\" placeholder=\"文件名称\" v-if=\"renameVisible\" v-model=\"cacheRecord.name\" />\r\n    </a-modal>\r\n\t\t\r\n\t\t<AttachmentPreview \r\n\t\t\tref=\"attachmentPreview\"\r\n\t\t\tv-if=\"selectAttachment\"\r\n\t\t\t:attachment=\"selectAttachment\"\r\n\t\t\t>\r\n\t\t</AttachmentPreview>\r\n\t\t\r\n\t\t<v-contextmenu ref=\"contextmenu\">\r\n\t\t\t<v-contextmenu-item @click=\"renameVisible = true, cacheRecord = {}\">新建文件夹</v-contextmenu-item>\r\n\t\t\t<v-contextmenu-item @click=\"renameVisible = true\">重命名</v-contextmenu-item>\r\n\t\t\t<v-contextmenu-item @click=\"handleDelete\">删除</v-contextmenu-item>\r\n\t\t</v-contextmenu>\r\n\t\t</a-card>\r\n\t</template>\r\n\r\n<script>\r\nimport { mixin, mixinDevice } from '@/utils/mixin.js'\r\nimport FilePondUpload from '@/components/Upload/FilePondUpload'\r\nimport attachmentApi from '@/api/attachment'\r\nimport directoryApi from '@/api/directory'\r\nimport AttachmentPreview from '@/views/file/AttachmentPreview'\r\nexport default {\r\n  name: 'TableList',\r\n\tcomponents: {\r\n\t\tFilePondUpload:\tFilePondUpload,\r\n\t\tAttachmentPreview: AttachmentPreview\r\n\t},\r\n\tmixins: [mixin, mixinDevice],\r\n\tmounted ()\t{\r\n\t\tthis.getDataSource()\r\n\t\tthis.directoryHistory.push(this.queryParam.path)\r\n\t},\r\n  data () {\r\n    return {\r\n\t\t\tdirectoryHistory: [],\r\n\t\t\tdirectoryCursor: 0,\r\n\t\t\tpaths: [],\r\n\t\t\tparentPath: '',\r\n      queryParam: {\r\n\t\t\t\tpath: ''\r\n\t\t\t},\r\n\t\t\tlocalDataSource: [],\r\n\t\t\tselectedRowKeys: [],\r\n\t\t\tloading: true,\r\n\t\t\tselectAttachment: {},\r\n\t\t\tcacheRecord: undefined,\r\n\t\t\trenameVisible: false,\r\n\t\t\trenameLoading: false,\r\n\t\t\tuploadVisible: false,\r\n\t\t\tuploadHandler: attachmentApi.upload,\r\n\t\t\tfileIcon: stringType => {\r\n\t\t\t\tif (stringType !== undefined) {\r\n\t\t\t\t\tvar mediaType = stringType.split('/')[0]\r\n\t\t\t\t\tconsole.log(mediaType)\r\n\t\t\t\t\tif (mediaType === 'image') {\r\n\t\t\t\t\t\treturn 'picture'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (mediaType === 'video') {\r\n\t\t\t\t\t\treturn 'play-square'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn 'folder'\r\n\t\t\t}\r\n    }\r\n  },\r\n  methods: {\r\n\t\ttoParentPath() {\r\n\t\t\tthis.getDataSource(this.parentPath)\r\n\t\t\tthis.directoryHistory.splice(this.directoryCursor + 1, this.directoryHistory.length - this.directoryCursor, this.parentPath)\r\n\t\t\tthis.directoryCursor = this.directoryHistory.length - 1\r\n\t\t},\r\n\t\tnextOrPrevious(previous, next) {\r\n\t\t\tconsole.log(this.directoryCursor)\r\n\t\t\tconsole.log(this.directoryHistory)\r\n\t\t\tif (previous && this.directoryHistory.length >= this.directoryCursor - 1 && this.directoryCursor > 0) { \r\n\t\t\t\tthis.getDataSource(this.directoryHistory[this.directoryCursor - 1])\r\n\t\t\t\tthis.directoryCursor--\r\n\t\t\t}\r\n\t\t\tif (next && this.directoryCursor + 1 < this.directoryHistory.length) {\r\n\t\t\t\tthis.getDataSource(this.directoryHistory[this.directoryCursor + 1])\r\n\t\t\t\tthis.directoryCursor++\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetDataSource(path) {\r\n\t\t\tthis.loading = true\r\n\t\t\tif (path !== undefined) {\r\n\t\t\t\tthis.queryParam.path = path\r\n\t\t\t}\r\n\t\t\tdirectoryApi.query(Object.assign(this.queryParam)).then(res => {\r\n\t\t\t\tthis.localDataSource = []\r\n\t\t\t\tfor (var d = 0; d < res.data.directoryList.length; d++) {\r\n\t\t\t\t\tvar itemD = res.data.directoryList[d]\r\n\t\t\t\t\titemD.fileKey = itemD.id\r\n\t\t\t\t\titemD.isDirectory = true\r\n\t\t\t\t\titemD.active = false\r\n\t\t\t\t\tthis.localDataSource.push(itemD)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (var a = 0; a < res.data.attachmentList.length; a++) {\r\n\t\t\t\t\tvar itemA = res.data.attachmentList[a]\r\n\t\t\t\t\titemA.active = false\r\n\t\t\t\t\tthis.localDataSource.push(itemA)\r\n\t\t\t\t}\r\n\t\t\t\tthis.paths = Object.assign({}, this.queryParam).path.split('/').slice(1)\r\n\t\t\t\tthis.parentPath = res.data.parent\r\n\t\t\t\tthis.loading = false\r\n\t\t\t})\r\n\t\t},\r\n\t\trowClick (record, index) {\r\n\t\t\trecord.active = true\r\n\t\t},\r\n\t\trowDblclick (record) {\r\n\t\t\tif (record.isDirectory !== undefined & record.isDirectory) {\r\n\t\t\t\tthis.getDataSource(record.path)\r\n\t\t\t\tthis.directoryHistory.splice(this.directoryCursor + 1, this.directoryHistory.length - this.directoryCursor, this.queryParam.path)\r\n\t\t\t\tthis.directoryCursor = this.directoryHistory.length - 1\r\n\t\t\t} else {\r\n\t\t\t\tthis.selectAttachment = Object.assign({}, record)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcontextmenu (record, event) {\r\n\t\t\tthis.cacheRecord = Object.assign({}, record)\r\n\t\t\tthis.$refs.contextmenu.show({\ttop: event.clientY,\tleft: event.clientX\t})\r\n\t\t\twindow.event.returnValue\t=\tfalse\r\n\t\t\treturn false\r\n\t\t},\r\n\t\thandleRename() {\r\n\t\t\tthis.renameLoading = true\r\n\t\t\tvar record = this.cacheRecord\r\n\t\t\tdirectoryApi.rename({ 'name': record.name, 'key': record.fileKey, 'path': this.queryParam.path, 'isDirectory': record.isDirectory }).then(res => {\r\n\t\t\t\tthis.getDataSource()\r\n\t\t\t\tthis.renameLoading = this.renameVisible = false\r\n\t\t\t})\r\n\t\t},\r\n\t\thandleDelete() {\r\n\t\t\tvar record = this.cacheRecord\r\n\t\t\tdirectoryApi.deleted({ 'key': record.fileKey, 'isDirectory': record.isDirectory }).then(res => {\r\n\t\t\t\tthis.getDataSource()\r\n\t\t\t}).catch(e => {\r\n\t\t\t\tthis.$notification.error({\r\n\t\t\t\t\tmessage: '错误提示',\r\n\t\t\t\t\tdescription: '当前目录下存在文件或文件夹'\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\thandleBreadcrumb(i) {\r\n\t\t\tthis.getDataSource('/' + this.paths.slice(0, i + 1).join('/'))\r\n\t\t},\r\n\t\tonUploadClose() {\r\n\t\t\tthis.$refs.upload.handleClearFileList()\r\n\t\t}\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\t.directory {\r\n\t\twidth: 100%;\r\n    display: table;\r\n    border-spacing: 0;\r\n    border-collapse: collapse;\r\n\t}\r\n\t\r\n\t.directory-cell {\r\n\t\tdisplay: table-cell;\r\n    padding: 16px;\r\n    font-size: 0.875rem;\r\n    text-align: left;\r\n    font-weight: 400;\r\n    line-height: 1.43;\r\n    border-bottom: 1px solid rgba(224, 224, 224, 1);\r\n    letter-spacing: 0.01071em;\r\n    vertical-align: inherit;\r\n\t}\r\n\t\r\n\t.directory-head-cell {\r\n\t\tcolor: rgba(0, 0, 0, 0.87);\r\n    font-weight: 500;\r\n    line-height: 1.5rem;\r\n\t}\r\n\t\r\n\t.directory tbody tr.active {\r\n\t\tbackground-color: #f5f7fa;\r\n\t}\r\n\t\r\n\t.directory tbody tr:hover {\r\n\t\tbackground-color: #f5f7fa;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t.editable-row-operations a {\r\n    margin-right: 8px;\r\n  }\r\n  .search {\r\n    margin-bottom: 54px;\r\n  }\r\n\r\n  .fold {\r\n    width: calc(100% - 216px);\r\n    display: inline-block\r\n  }\r\n\r\n  .operator {\r\n    margin-bottom: 18px;\r\n  }\r\n\t\r\n\t.file-operator > .ant-btn{\r\n\t\tmargin-right: 8px;\r\n\t}\r\n\t\r\n\t.file-path-tools {\r\n\t\tposition: absolute;\r\n\t}\r\n\t\r\n\t.file-path-tools button{\r\n\t\tfont-size: 14px;\r\n\t\tborder: 1px solid transparent;\r\n\t}\r\n\t\r\n\t.file-path-tools button:hover {\r\n\t  background-color: #f8f8f8;\r\n\t}\r\n\t\r\n\t.file-path-tools .disable {\r\n\t\tcolor: #ccc;\r\n\t}\r\n\t\r\n\t.file-path-tools .disable::after {\r\n\t\topacity: 0;\r\n\t}\r\n\t\r\n\t.file-path-tools .disable:hover {\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\t\r\n\t.file-path {\r\n\t\tmargin-left: 150px;\r\n\t\tbackground-color: #f1f3f4;\r\n\t\tborder-radius: 14px;\r\n\t\tpadding: 5px 5px 5px 10px;\r\n\t}\r\n\t\r\n\t.file-icon {\r\n\t\tmargin-right: 8px;\r\n\t\tfont-size: 18px\r\n\t}\r\n\t\r\n\t.file-name {\r\n\t\tcursor: pointer\r\n\t}\r\n\t\r\n  @media screen and (max-width: 900px) {\r\n    .fold {\r\n      width: 100%;\r\n    }\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/views/file"}]}