{"remainingRequest":"F:\\个人git项目\\squirrel-admin\\node_modules\\babel-loader\\lib\\index.js!F:\\个人git项目\\squirrel-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\个人git项目\\squirrel-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\个人git项目\\squirrel-admin\\node_modules\\v-contextmenu\\src\\components\\Contextmenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\个人git项目\\squirrel-admin\\node_modules\\v-contextmenu\\src\\components\\Contextmenu.vue","mtime":499162500000},{"path":"F:\\个人git项目\\squirrel-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\个人git项目\\squirrel-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\个人git项目\\squirrel-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\个人git项目\\squirrel-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiRjpcXFx1NEUyQVx1NEVCQWdpdFx1OTg3OVx1NzZFRVxcc3F1aXJyZWwtYWRtaW5cXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdWQ29udGV4dG1lbnUnLAogIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7CiAgICByZXR1cm4gewogICAgICAkJGNvbnRleHRtZW51OiB0aGlzCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGV2ZW50VHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjb250ZXh0bWVudScKICAgIH0sCiAgICB0aGVtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdkZWZhdWx0JwogICAgfSwKICAgIGF1dG9QbGFjZW1lbnQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGRpc2FibGVkOiBCb29sZWFuCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIHJlZmVyZW5jZXM6IFtdLAogICAgICBzdHlsZTogewogICAgICAgIHRvcDogMCwKICAgICAgICBsZWZ0OiAwCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY2xpY2tPdXRzaWRlSGFuZGxlcjogZnVuY3Rpb24gY2xpY2tPdXRzaWRlSGFuZGxlcigpIHsKICAgICAgcmV0dXJuIHRoaXMudmlzaWJsZSA/IHRoaXMuaGlkZSA6IGZ1bmN0aW9uICgpIHt9OwogICAgfSwKICAgIGlzQ2xpY2s6IGZ1bmN0aW9uIGlzQ2xpY2soKSB7CiAgICAgIHJldHVybiB0aGlzLmV2ZW50VHlwZSA9PT0gJ2NsaWNrJzsKICAgIH0sCiAgICBjb250ZXh0bWVudUNsczogZnVuY3Rpb24gY29udGV4dG1lbnVDbHMoKSB7CiAgICAgIHJldHVybiBbJ3YtY29udGV4dG1lbnUnLCAidi1jb250ZXh0bWVudS0tIi5jb25jYXQodGhpcy50aGVtZSldOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZpc2libGU6IGZ1bmN0aW9uIHZpc2libGUodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnc2hvdycsIHRoaXMpOwogICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUJvZHlDbGljayk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZW1pdCgnaGlkZScsIHRoaXMpOwogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUJvZHlDbGljayk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuJGVsKTsKCiAgICBpZiAod2luZG93LiQkVkNvbnRleHRtZW51KSB7CiAgICAgIHdpbmRvdy4kJFZDb250ZXh0bWVudVt0aGlzLiRjb250ZXh0bWVudUlkXSA9IHRoaXM7CiAgICB9IGVsc2UgewogICAgICB3aW5kb3cuJCRWQ29udGV4dG1lbnUgPSBfZGVmaW5lUHJvcGVydHkoe30sIHRoaXMuJGNvbnRleHRtZW51SWQsIHRoaXMpOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLiRlbCk7CiAgICBkZWxldGUgd2luZG93LiQkVkNvbnRleHRtZW51W3RoaXMuJGNvbnRleHRtZW51SWRdOwogICAgdGhpcy5yZWZlcmVuY2VzLmZvckVhY2goZnVuY3Rpb24gKHJlZikgewogICAgICByZWYuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihfdGhpcy5ldmVudFR5cGUsIF90aGlzLmhhbmRsZVJlZmVyZW5jZUNvbnRleHRtZW51KTsKICAgIH0pOwogICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQm9keUNsaWNrKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFkZFJlZjogZnVuY3Rpb24gYWRkUmVmKHJlZikgewogICAgICAvLyBGSVhNRTog5aaC5L2V5aSE55CGIHJlbW92ZVJlZu+8nwogICAgICB0aGlzLnJlZmVyZW5jZXMucHVzaChyZWYpOwogICAgICByZWYuZWwuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50VHlwZSwgdGhpcy5oYW5kbGVSZWZlcmVuY2VDb250ZXh0bWVudSk7CiAgICB9LAogICAgaGFuZGxlUmVmZXJlbmNlQ29udGV4dG1lbnU6IGZ1bmN0aW9uIGhhbmRsZVJlZmVyZW5jZUNvbnRleHRtZW51KGV2ZW50KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybjsKICAgICAgdmFyIHJlZmVyZW5jZSA9IHRoaXMucmVmZXJlbmNlcy5maW5kKGZ1bmN0aW9uIChyZWYpIHsKICAgICAgICByZXR1cm4gcmVmLmVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCk7CiAgICAgIH0pOwogICAgICB0aGlzLiRlbWl0KCdjb250ZXh0bWVudScsIHJlZmVyZW5jZSA/IHJlZmVyZW5jZS52bm9kZSA6IG51bGwpOwogICAgICB2YXIgZXZlbnRYID0gZXZlbnQucGFnZVg7CiAgICAgIHZhciBldmVudFkgPSBldmVudC5wYWdlWTsKICAgICAgdGhpcy5zaG93KCk7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgY29udGV4dG1lbnVQb3NpdGlvbiA9IHsKICAgICAgICAgIHRvcDogZXZlbnRZLAogICAgICAgICAgbGVmdDogZXZlbnRYCiAgICAgICAgfTsKCiAgICAgICAgaWYgKF90aGlzMi5hdXRvUGxhY2VtZW50KSB7CiAgICAgICAgICB2YXIgY29udGV4dG1lbnVXaWR0aCA9IF90aGlzMi4kcmVmcy5jb250ZXh0bWVudS5jbGllbnRXaWR0aDsKICAgICAgICAgIHZhciBjb250ZXh0bWVudUhlaWdodCA9IF90aGlzMi4kcmVmcy5jb250ZXh0bWVudS5jbGllbnRIZWlnaHQ7CgogICAgICAgICAgaWYgKGNvbnRleHRtZW51SGVpZ2h0ICsgZXZlbnRZID49IHdpbmRvdy5pbm5lckhlaWdodCkgewogICAgICAgICAgICBjb250ZXh0bWVudVBvc2l0aW9uLnRvcCAtPSBjb250ZXh0bWVudUhlaWdodDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoY29udGV4dG1lbnVXaWR0aCArIGV2ZW50WCA+PSB3aW5kb3cuaW5uZXJXaWR0aCkgewogICAgICAgICAgICBjb250ZXh0bWVudVBvc2l0aW9uLmxlZnQgLT0gY29udGV4dG1lbnVXaWR0aDsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIF90aGlzMi5zdHlsZSA9IHsKICAgICAgICAgIHRvcDogIiIuY29uY2F0KGNvbnRleHRtZW51UG9zaXRpb24udG9wLCAicHgiKSwKICAgICAgICAgIGxlZnQ6ICIiLmNvbmNhdChjb250ZXh0bWVudVBvc2l0aW9uLmxlZnQsICJweCIpCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQm9keUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVCb2R5Q2xpY2soZXZlbnQpIHsKICAgICAgdmFyIG5vdE91dHNpZGUgPSB0aGlzLiRlbC5jb250YWlucyhldmVudC50YXJnZXQpIHx8IHRoaXMuaXNDbGljayAmJiB0aGlzLnJlZmVyZW5jZXMuc29tZShmdW5jdGlvbiAocmVmKSB7CiAgICAgICAgcmV0dXJuIHJlZi5lbC5jb250YWlucyhldmVudC50YXJnZXQpOwogICAgICB9KTsKCiAgICAgIGlmICghbm90T3V0c2lkZSkgewogICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgc2hvdzogZnVuY3Rpb24gc2hvdyhwb3NpdGlvbikgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIE9iamVjdC5rZXlzKHdpbmRvdy4kJFZDb250ZXh0bWVudSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgaWYgKGtleSAhPT0gX3RoaXMzLiRjb250ZXh0bWVudUlkKSB7CiAgICAgICAgICB3aW5kb3cuJCRWQ29udGV4dG1lbnVba2V5XS5oaWRlKCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmIChwb3NpdGlvbikgewogICAgICAgIHRoaXMuc3R5bGUgPSB7CiAgICAgICAgICB0b3A6ICIiLmNvbmNhdChwb3NpdGlvbi50b3AsICJweCIpLAogICAgICAgICAgbGVmdDogIiIuY29uY2F0KHBvc2l0aW9uLmxlZnQsICJweCIpCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkgewogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICBoaWRlQWxsOiBmdW5jdGlvbiBoaWRlQWxsKCkgewogICAgICBPYmplY3Qua2V5cyh3aW5kb3cuJCRWQ29udGV4dG1lbnUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgIHdpbmRvdy4kJFZDb250ZXh0bWVudVtrZXldLmhpZGUoKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Contextmenu.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ul\n    v-show=\"visible\"\n    ref=\"contextmenu\"\n    :class=\"contextmenuCls\"\n    :style=\"style\"\n  >\n    <slot />\n  </ul>\n</template>\n\n<script>\n  export default {\n    name: 'VContextmenu',\n\n    provide () {\n      return {\n        $$contextmenu: this,\n      }\n    },\n\n    props: {\n      eventType: {\n        type: String,\n        default: 'contextmenu',\n      },\n      theme: {\n        type: String,\n        default: 'default',\n      },\n      autoPlacement: {\n        type: Boolean,\n        default: true,\n      },\n      disabled: Boolean,\n    },\n\n    data () {\n      return {\n        visible: false,\n        references: [],\n        style: {\n          top: 0,\n          left: 0,\n        },\n      }\n    },\n    computed: {\n      clickOutsideHandler () {\n        return this.visible ? this.hide : () => {}\n      },\n      isClick () {\n        return this.eventType === 'click'\n      },\n      contextmenuCls () {\n        return [\n          'v-contextmenu',\n          `v-contextmenu--${this.theme}`,\n        ]\n      },\n    },\n\n    watch: {\n      visible (value) {\n        if (value) {\n          this.$emit('show', this)\n\n          document.body.addEventListener('click', this.handleBodyClick)\n        } else {\n          this.$emit('hide', this)\n\n          document.body.removeEventListener('click', this.handleBodyClick)\n        }\n      },\n    },\n    mounted () {\n      document.body.appendChild(this.$el)\n\n      if (window.$$VContextmenu) {\n        window.$$VContextmenu[this.$contextmenuId] = this\n      } else {\n        window.$$VContextmenu = { [this.$contextmenuId]: this }\n      }\n    },\n    beforeDestroy () {\n      document.body.removeChild(this.$el)\n\n      delete window.$$VContextmenu[this.$contextmenuId]\n\n      this.references.forEach((ref) => {\n        ref.el.removeEventListener(this.eventType, this.handleReferenceContextmenu)\n      })\n\n      document.body.removeEventListener('click', this.handleBodyClick)\n    },\n\n    methods: {\n      addRef (ref) {\n        // FIXME: 如何处理 removeRef？\n        this.references.push(ref)\n\n        ref.el.addEventListener(this.eventType, this.handleReferenceContextmenu)\n      },\n      handleReferenceContextmenu (event) {\n        event.preventDefault()\n\n        if (this.disabled) return\n\n        const reference = this.references.find(ref => ref.el.contains(event.target))\n\n        this.$emit('contextmenu', reference ? reference.vnode : null)\n\n        const eventX = event.pageX\n        const eventY = event.pageY\n\n        this.show()\n\n        this.$nextTick(() => {\n          const contextmenuPosition = {\n            top: eventY,\n            left: eventX,\n          }\n\n          if (this.autoPlacement) {\n            const contextmenuWidth = this.$refs.contextmenu.clientWidth\n            const contextmenuHeight = this.$refs.contextmenu.clientHeight\n\n            if (contextmenuHeight + eventY >= window.innerHeight) {\n              contextmenuPosition.top -= contextmenuHeight\n            }\n\n            if (contextmenuWidth + eventX >= window.innerWidth) {\n              contextmenuPosition.left -= contextmenuWidth\n            }\n          }\n\n          this.style = {\n            top: `${contextmenuPosition.top}px`,\n            left: `${contextmenuPosition.left}px`,\n          }\n        })\n      },\n      handleBodyClick (event) {\n        const notOutside = this.$el.contains(event.target) || (\n          this.isClick && this.references.some(ref => ref.el.contains(event.target))\n        )\n\n        if (!notOutside) {\n          this.visible = false\n        }\n      },\n      show (position) {\n        Object.keys(window.$$VContextmenu)\n          .forEach((key) => {\n            if (key !== this.$contextmenuId) {\n              window.$$VContextmenu[key].hide()\n            }\n          })\n\n        if (position) {\n          this.style = {\n            top: `${position.top}px`,\n            left: `${position.left}px`,\n          }\n        }\n\n        this.visible = true\n      },\n      hide () {\n        this.visible = false\n      },\n      hideAll () {\n        Object.keys(window.$$VContextmenu)\n          .forEach((key) => {\n            window.$$VContextmenu[key].hide()\n          })\n      },\n    },\n  }\n</script>\n"],"sourceRoot":"node_modules/v-contextmenu/src/components"}]}