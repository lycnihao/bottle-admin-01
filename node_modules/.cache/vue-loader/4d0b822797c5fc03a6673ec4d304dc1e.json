{"remainingRequest":"D:\\iksen\\个人git项目\\squirrel-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\iksen\\个人git项目\\squirrel-admin\\node_modules\\v-contextmenu\\src\\components\\Contextmenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\iksen\\个人git项目\\squirrel-admin\\node_modules\\v-contextmenu\\src\\components\\Contextmenu.vue","mtime":1586223522500},{"path":"D:\\iksen\\个人git项目\\squirrel-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586223459088},{"path":"D:\\iksen\\个人git项目\\squirrel-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":1586223449822},{"path":"D:\\iksen\\个人git项目\\squirrel-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586223459088},{"path":"D:\\iksen\\个人git项目\\squirrel-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":1586223523515}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVkNvbnRleHRtZW51JywKCiAgcHJvdmlkZSAoKSB7CiAgICByZXR1cm4gewogICAgICAkJGNvbnRleHRtZW51OiB0aGlzLAogICAgfQogIH0sCgogIHByb3BzOiB7CiAgICBldmVudFR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnY29udGV4dG1lbnUnLAogICAgfSwKICAgIHRoZW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2RlZmF1bHQnLAogICAgfSwKICAgIGF1dG9QbGFjZW1lbnQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgIH0sCiAgICBkaXNhYmxlZDogQm9vbGVhbiwKICB9LAoKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICByZWZlcmVuY2VzOiBbXSwKICAgICAgc3R5bGU6IHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgbGVmdDogMCwKICAgICAgfSwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjbGlja091dHNpZGVIYW5kbGVyICgpIHsKICAgICAgcmV0dXJuIHRoaXMudmlzaWJsZSA/IHRoaXMuaGlkZSA6ICgpID0+IHt9CiAgICB9LAogICAgaXNDbGljayAoKSB7CiAgICAgIHJldHVybiB0aGlzLmV2ZW50VHlwZSA9PT0gJ2NsaWNrJwogICAgfSwKICAgIGNvbnRleHRtZW51Q2xzICgpIHsKICAgICAgcmV0dXJuIFsKICAgICAgICAndi1jb250ZXh0bWVudScsCiAgICAgICAgYHYtY29udGV4dG1lbnUtLSR7dGhpcy50aGVtZX1gLAogICAgICBdCiAgICB9LAogIH0sCgogIHdhdGNoOiB7CiAgICB2aXNpYmxlICh2YWx1ZSkgewogICAgICBpZiAodmFsdWUpIHsKICAgICAgICB0aGlzLiRlbWl0KCdzaG93JywgdGhpcykKCiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQm9keUNsaWNrKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGVtaXQoJ2hpZGUnLCB0aGlzKQoKICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVCb2R5Q2xpY2spCiAgICAgIH0KICAgIH0sCiAgfSwKICBtb3VudGVkICgpIHsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy4kZWwpCgogICAgaWYgKHdpbmRvdy4kJFZDb250ZXh0bWVudSkgewogICAgICB3aW5kb3cuJCRWQ29udGV4dG1lbnVbdGhpcy4kY29udGV4dG1lbnVJZF0gPSB0aGlzCiAgICB9IGVsc2UgewogICAgICB3aW5kb3cuJCRWQ29udGV4dG1lbnUgPSB7IFt0aGlzLiRjb250ZXh0bWVudUlkXTogdGhpcyB9CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95ICgpIHsKICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy4kZWwpCgogICAgZGVsZXRlIHdpbmRvdy4kJFZDb250ZXh0bWVudVt0aGlzLiRjb250ZXh0bWVudUlkXQoKICAgIHRoaXMucmVmZXJlbmNlcy5mb3JFYWNoKChyZWYpID0+IHsKICAgICAgcmVmLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudFR5cGUsIHRoaXMuaGFuZGxlUmVmZXJlbmNlQ29udGV4dG1lbnUpCiAgICB9KQoKICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUJvZHlDbGljaykKICB9LAoKICBtZXRob2RzOiB7CiAgICBhZGRSZWYgKHJlZikgewogICAgICAvLyBGSVhNRTog5aaC5L2V5aSE55CGIHJlbW92ZVJlZu+8nwogICAgICB0aGlzLnJlZmVyZW5jZXMucHVzaChyZWYpCgogICAgICByZWYuZWwuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmV2ZW50VHlwZSwgdGhpcy5oYW5kbGVSZWZlcmVuY2VDb250ZXh0bWVudSkKICAgIH0sCiAgICBoYW5kbGVSZWZlcmVuY2VDb250ZXh0bWVudSAoZXZlbnQpIHsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKQoKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybgoKICAgICAgY29uc3QgcmVmZXJlbmNlID0gdGhpcy5yZWZlcmVuY2VzLmZpbmQocmVmID0+IHJlZi5lbC5jb250YWlucyhldmVudC50YXJnZXQpKQoKICAgICAgdGhpcy4kZW1pdCgnY29udGV4dG1lbnUnLCByZWZlcmVuY2UgPyByZWZlcmVuY2Uudm5vZGUgOiBudWxsKQoKICAgICAgY29uc3QgZXZlbnRYID0gZXZlbnQucGFnZVgKICAgICAgY29uc3QgZXZlbnRZID0gZXZlbnQucGFnZVkKCiAgICAgIHRoaXMuc2hvdygpCgogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgY29uc3QgY29udGV4dG1lbnVQb3NpdGlvbiA9IHsKICAgICAgICAgIHRvcDogZXZlbnRZLAogICAgICAgICAgbGVmdDogZXZlbnRYLAogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuYXV0b1BsYWNlbWVudCkgewogICAgICAgICAgY29uc3QgY29udGV4dG1lbnVXaWR0aCA9IHRoaXMuJHJlZnMuY29udGV4dG1lbnUuY2xpZW50V2lkdGgKICAgICAgICAgIGNvbnN0IGNvbnRleHRtZW51SGVpZ2h0ID0gdGhpcy4kcmVmcy5jb250ZXh0bWVudS5jbGllbnRIZWlnaHQKCiAgICAgICAgICBpZiAoY29udGV4dG1lbnVIZWlnaHQgKyBldmVudFkgPj0gd2luZG93LmlubmVySGVpZ2h0KSB7CiAgICAgICAgICAgIGNvbnRleHRtZW51UG9zaXRpb24udG9wIC09IGNvbnRleHRtZW51SGVpZ2h0CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGNvbnRleHRtZW51V2lkdGggKyBldmVudFggPj0gd2luZG93LmlubmVyV2lkdGgpIHsKICAgICAgICAgICAgY29udGV4dG1lbnVQb3NpdGlvbi5sZWZ0IC09IGNvbnRleHRtZW51V2lkdGgKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHRoaXMuc3R5bGUgPSB7CiAgICAgICAgICB0b3A6IGAke2NvbnRleHRtZW51UG9zaXRpb24udG9wfXB4YCwKICAgICAgICAgIGxlZnQ6IGAke2NvbnRleHRtZW51UG9zaXRpb24ubGVmdH1weGAsCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZUJvZHlDbGljayAoZXZlbnQpIHsKICAgICAgY29uc3Qgbm90T3V0c2lkZSA9IHRoaXMuJGVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHwgKAogICAgICAgIHRoaXMuaXNDbGljayAmJiB0aGlzLnJlZmVyZW5jZXMuc29tZShyZWYgPT4gcmVmLmVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpCiAgICAgICkKCiAgICAgIGlmICghbm90T3V0c2lkZSkgewogICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlCiAgICAgIH0KICAgIH0sCiAgICBzaG93IChwb3NpdGlvbikgewogICAgICBPYmplY3Qua2V5cyh3aW5kb3cuJCRWQ29udGV4dG1lbnUpCiAgICAgICAgLmZvckVhY2goKGtleSkgPT4gewogICAgICAgICAgaWYgKGtleSAhPT0gdGhpcy4kY29udGV4dG1lbnVJZCkgewogICAgICAgICAgICB3aW5kb3cuJCRWQ29udGV4dG1lbnVba2V5XS5oaWRlKCkKICAgICAgICAgIH0KICAgICAgICB9KQoKICAgICAgaWYgKHBvc2l0aW9uKSB7CiAgICAgICAgdGhpcy5zdHlsZSA9IHsKICAgICAgICAgIHRvcDogYCR7cG9zaXRpb24udG9wfXB4YCwKICAgICAgICAgIGxlZnQ6IGAke3Bvc2l0aW9uLmxlZnR9cHhgLAogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZQogICAgfSwKICAgIGhpZGUgKCkgewogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZQogICAgfSwKICAgIGhpZGVBbGwgKCkgewogICAgICBPYmplY3Qua2V5cyh3aW5kb3cuJCRWQ29udGV4dG1lbnUpCiAgICAgICAgLmZvckVhY2goKGtleSkgPT4gewogICAgICAgICAgd2luZG93LiQkVkNvbnRleHRtZW51W2tleV0uaGlkZSgpCiAgICAgICAgfSkKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["Contextmenu.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Contextmenu.vue","sourceRoot":"node_modules/v-contextmenu/src/components","sourcesContent":["<template>\r\n  <ul\r\n    v-show=\"visible\"\r\n    ref=\"contextmenu\"\r\n    :class=\"contextmenuCls\"\r\n    :style=\"style\"\r\n  >\r\n    <slot />\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'VContextmenu',\r\n\r\n    provide () {\r\n      return {\r\n        $$contextmenu: this,\r\n      }\r\n    },\r\n\r\n    props: {\r\n      eventType: {\r\n        type: String,\r\n        default: 'contextmenu',\r\n      },\r\n      theme: {\r\n        type: String,\r\n        default: 'default',\r\n      },\r\n      autoPlacement: {\r\n        type: Boolean,\r\n        default: true,\r\n      },\r\n      disabled: Boolean,\r\n    },\r\n\r\n    data () {\r\n      return {\r\n        visible: false,\r\n        references: [],\r\n        style: {\r\n          top: 0,\r\n          left: 0,\r\n        },\r\n      }\r\n    },\r\n    computed: {\r\n      clickOutsideHandler () {\r\n        return this.visible ? this.hide : () => {}\r\n      },\r\n      isClick () {\r\n        return this.eventType === 'click'\r\n      },\r\n      contextmenuCls () {\r\n        return [\r\n          'v-contextmenu',\r\n          `v-contextmenu--${this.theme}`,\r\n        ]\r\n      },\r\n    },\r\n\r\n    watch: {\r\n      visible (value) {\r\n        if (value) {\r\n          this.$emit('show', this)\r\n\r\n          document.body.addEventListener('click', this.handleBodyClick)\r\n        } else {\r\n          this.$emit('hide', this)\r\n\r\n          document.body.removeEventListener('click', this.handleBodyClick)\r\n        }\r\n      },\r\n    },\r\n    mounted () {\r\n      document.body.appendChild(this.$el)\r\n\r\n      if (window.$$VContextmenu) {\r\n        window.$$VContextmenu[this.$contextmenuId] = this\r\n      } else {\r\n        window.$$VContextmenu = { [this.$contextmenuId]: this }\r\n      }\r\n    },\r\n    beforeDestroy () {\r\n      document.body.removeChild(this.$el)\r\n\r\n      delete window.$$VContextmenu[this.$contextmenuId]\r\n\r\n      this.references.forEach((ref) => {\r\n        ref.el.removeEventListener(this.eventType, this.handleReferenceContextmenu)\r\n      })\r\n\r\n      document.body.removeEventListener('click', this.handleBodyClick)\r\n    },\r\n\r\n    methods: {\r\n      addRef (ref) {\r\n        // FIXME: 如何处理 removeRef？\r\n        this.references.push(ref)\r\n\r\n        ref.el.addEventListener(this.eventType, this.handleReferenceContextmenu)\r\n      },\r\n      handleReferenceContextmenu (event) {\r\n        event.preventDefault()\r\n\r\n        if (this.disabled) return\r\n\r\n        const reference = this.references.find(ref => ref.el.contains(event.target))\r\n\r\n        this.$emit('contextmenu', reference ? reference.vnode : null)\r\n\r\n        const eventX = event.pageX\r\n        const eventY = event.pageY\r\n\r\n        this.show()\r\n\r\n        this.$nextTick(() => {\r\n          const contextmenuPosition = {\r\n            top: eventY,\r\n            left: eventX,\r\n          }\r\n\r\n          if (this.autoPlacement) {\r\n            const contextmenuWidth = this.$refs.contextmenu.clientWidth\r\n            const contextmenuHeight = this.$refs.contextmenu.clientHeight\r\n\r\n            if (contextmenuHeight + eventY >= window.innerHeight) {\r\n              contextmenuPosition.top -= contextmenuHeight\r\n            }\r\n\r\n            if (contextmenuWidth + eventX >= window.innerWidth) {\r\n              contextmenuPosition.left -= contextmenuWidth\r\n            }\r\n          }\r\n\r\n          this.style = {\r\n            top: `${contextmenuPosition.top}px`,\r\n            left: `${contextmenuPosition.left}px`,\r\n          }\r\n        })\r\n      },\r\n      handleBodyClick (event) {\r\n        const notOutside = this.$el.contains(event.target) || (\r\n          this.isClick && this.references.some(ref => ref.el.contains(event.target))\r\n        )\r\n\r\n        if (!notOutside) {\r\n          this.visible = false\r\n        }\r\n      },\r\n      show (position) {\r\n        Object.keys(window.$$VContextmenu)\r\n          .forEach((key) => {\r\n            if (key !== this.$contextmenuId) {\r\n              window.$$VContextmenu[key].hide()\r\n            }\r\n          })\r\n\r\n        if (position) {\r\n          this.style = {\r\n            top: `${position.top}px`,\r\n            left: `${position.left}px`,\r\n          }\r\n        }\r\n\r\n        this.visible = true\r\n      },\r\n      hide () {\r\n        this.visible = false\r\n      },\r\n      hideAll () {\r\n        Object.keys(window.$$VContextmenu)\r\n          .forEach((key) => {\r\n            window.$$VContextmenu[key].hide()\r\n          })\r\n      },\r\n    },\r\n  }\r\n</script>\r\n"]}]}