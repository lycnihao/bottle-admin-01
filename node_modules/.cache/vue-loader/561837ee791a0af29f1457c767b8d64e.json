{"remainingRequest":"F:\\个人git项目\\couldr-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\个人git项目\\couldr-admin\\src\\views\\list\\TableList.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\个人git项目\\couldr-admin\\src\\views\\list\\TableList.vue","mtime":1583417156421},{"path":"F:\\个人git项目\\couldr-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\个人git项目\\couldr-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\个人git项目\\couldr-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\个人git项目\\couldr-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcNCmltcG9ydCB7IFNUYWJsZSwgRWxsaXBzaXMgfSBmcm9tICdAL2NvbXBvbmVudHMnDQppbXBvcnQgU3RlcEJ5U3RlcE1vZGFsIGZyb20gJy4vbW9kdWxlcy9TdGVwQnlTdGVwTW9kYWwnDQppbXBvcnQgQ3JlYXRlRm9ybSBmcm9tICcuL21vZHVsZXMvQ3JlYXRlRm9ybScNCmltcG9ydCB7IGdldFJvbGVMaXN0LCBnZXRTZXJ2aWNlTGlzdCB9IGZyb20gJ0AvYXBpL21hbmFnZScNCg0KY29uc3Qgc3RhdHVzTWFwID0gew0KICAwOiB7DQogICAgc3RhdHVzOiAnZGVmYXVsdCcsDQogICAgdGV4dDogJ+WFs+mXrScNCiAgfSwNCiAgMTogew0KICAgIHN0YXR1czogJ3Byb2Nlc3NpbmcnLA0KICAgIHRleHQ6ICfov5DooYzkuK0nDQogIH0sDQogIDI6IHsNCiAgICBzdGF0dXM6ICdzdWNjZXNzJywNCiAgICB0ZXh0OiAn5bey5LiK57q/Jw0KICB9LA0KICAzOiB7DQogICAgc3RhdHVzOiAnZXJyb3InLA0KICAgIHRleHQ6ICflvILluLgnDQogIH0NCn0NCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnVGFibGVMaXN0JywNCiAgY29tcG9uZW50czogew0KICAgIFNUYWJsZSwNCiAgICBFbGxpcHNpcywNCiAgICBDcmVhdGVGb3JtLA0KICAgIFN0ZXBCeVN0ZXBNb2RhbA0KICB9LA0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbWRsOiB7fSwNCiAgICAgIC8vIOmrmOe6p+aQnOe0oiDlsZXlvIAv5YWz6ZetDQogICAgICBhZHZhbmNlZDogZmFsc2UsDQogICAgICAvLyDmn6Xor6Llj4LmlbANCiAgICAgIHF1ZXJ5UGFyYW06IHt9LA0KICAgICAgLy8g6KGo5aS0DQogICAgICBjb2x1bW5zOiBbDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogJyMnLA0KICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogJ3NlcmlhbCcgfQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICfop4TliJnnvJblj7cnLA0KICAgICAgICAgIGRhdGFJbmRleDogJ25vJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICfmj4/ov7AnLA0KICAgICAgICAgIGRhdGFJbmRleDogJ2Rlc2NyaXB0aW9uJywNCiAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICdkZXNjcmlwdGlvbicgfQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICfmnI3liqHosIPnlKjmrKHmlbAnLA0KICAgICAgICAgIGRhdGFJbmRleDogJ2NhbGxObycsDQogICAgICAgICAgc29ydGVyOiB0cnVlLA0KICAgICAgICAgIG5lZWRUb3RhbDogdHJ1ZSwNCiAgICAgICAgICBjdXN0b21SZW5kZXI6ICh0ZXh0KSA9PiB0ZXh0ICsgJyDmrKEnDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogJ+eKtuaAgScsDQogICAgICAgICAgZGF0YUluZGV4OiAnc3RhdHVzJywNCiAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICdzdGF0dXMnIH0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAn5pu05paw5pe26Ze0JywNCiAgICAgICAgICBkYXRhSW5kZXg6ICd1cGRhdGVkQXQnLA0KICAgICAgICAgIHNvcnRlcjogdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICfmk43kvZwnLA0KICAgICAgICAgIGRhdGFJbmRleDogJ2FjdGlvbicsDQogICAgICAgICAgd2lkdGg6ICcxNTBweCcsDQogICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAnYWN0aW9uJyB9DQogICAgICAgIH0NCiAgICAgIF0sDQogICAgICAvLyDliqDovb3mlbDmja7mlrnms5Ug5b+F6aG75Li6IFByb21pc2Ug5a+56LGhDQogICAgICBsb2FkRGF0YTogcGFyYW1ldGVyID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coJ2xvYWREYXRhLnBhcmFtZXRlcicsIHBhcmFtZXRlcikNCiAgICAgICAgcmV0dXJuIGdldFNlcnZpY2VMaXN0KE9iamVjdC5hc3NpZ24ocGFyYW1ldGVyLCB0aGlzLnF1ZXJ5UGFyYW0pKQ0KICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICByZXR1cm4gcmVzLnJlc3VsdA0KICAgICAgICAgIH0pDQogICAgICB9LA0KICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBbXSwNCiAgICAgIHNlbGVjdGVkUm93czogW10sDQoNCiAgICAgIC8vIGN1c3RvbSB0YWJsZSBhbGVydCAmIHJvd1NlbGVjdGlvbg0KICAgICAgb3B0aW9uczogew0KICAgICAgICBhbGVydDogeyBzaG93OiB0cnVlLCBjbGVhcjogKCkgPT4geyB0aGlzLnNlbGVjdGVkUm93S2V5cyA9IFtdIH0gfSwNCiAgICAgICAgcm93U2VsZWN0aW9uOiB7DQogICAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiB0aGlzLnNlbGVjdGVkUm93S2V5cywNCiAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vblNlbGVjdENoYW5nZQ0KICAgICAgICB9DQogICAgICB9LA0KICAgICAgb3B0aW9uQWxlcnRTaG93OiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgZmlsdGVyczogew0KICAgIHN0YXR1c0ZpbHRlciAodHlwZSkgew0KICAgICAgcmV0dXJuIHN0YXR1c01hcFt0eXBlXS50ZXh0DQogICAgfSwNCiAgICBzdGF0dXNUeXBlRmlsdGVyICh0eXBlKSB7DQogICAgICByZXR1cm4gc3RhdHVzTWFwW3R5cGVdLnN0YXR1cw0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCAoKSB7DQogICAgdGhpcy50YWJsZU9wdGlvbigpDQogICAgZ2V0Um9sZUxpc3QoeyB0OiBuZXcgRGF0ZSgpIH0pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB0YWJsZU9wdGlvbiAoKSB7DQogICAgICBpZiAoIXRoaXMub3B0aW9uQWxlcnRTaG93KSB7DQogICAgICAgIHRoaXMub3B0aW9ucyA9IHsNCiAgICAgICAgICBhbGVydDogeyBzaG93OiB0cnVlLCBjbGVhcjogKCkgPT4geyB0aGlzLnNlbGVjdGVkUm93S2V5cyA9IFtdIH0gfSwNCiAgICAgICAgICByb3dTZWxlY3Rpb246IHsNCiAgICAgICAgICAgIHNlbGVjdGVkUm93S2V5czogdGhpcy5zZWxlY3RlZFJvd0tleXMsDQogICAgICAgICAgICBvbkNoYW5nZTogdGhpcy5vblNlbGVjdENoYW5nZSwNCiAgICAgICAgICAgIGdldENoZWNrYm94UHJvcHM6IHJlY29yZCA9PiAoew0KICAgICAgICAgICAgICBwcm9wczogew0KICAgICAgICAgICAgICAgIGRpc2FibGVkOiByZWNvcmQubm8gPT09ICdObyAyJywgLy8gQ29sdW1uIGNvbmZpZ3VyYXRpb24gbm90IHRvIGJlIGNoZWNrZWQNCiAgICAgICAgICAgICAgICBuYW1lOiByZWNvcmQubm8NCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5vcHRpb25BbGVydFNob3cgPSB0cnVlDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLm9wdGlvbnMgPSB7DQogICAgICAgICAgYWxlcnQ6IGZhbHNlLA0KICAgICAgICAgIHJvd1NlbGVjdGlvbjogbnVsbA0KICAgICAgICB9DQogICAgICAgIHRoaXMub3B0aW9uQWxlcnRTaG93ID0gZmFsc2UNCiAgICAgIH0NCiAgICB9LA0KDQogICAgaGFuZGxlRWRpdCAocmVjb3JkKSB7DQogICAgICBjb25zb2xlLmxvZyhyZWNvcmQpDQogICAgICB0aGlzLiRyZWZzLm1vZGFsLmVkaXQocmVjb3JkKQ0KICAgIH0sDQogICAgaGFuZGxlU3ViIChyZWNvcmQpIHsNCiAgICAgIGlmIChyZWNvcmQuc3RhdHVzICE9PSAwKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbyhgJHtyZWNvcmQubm99IOiuoumYheaIkOWKn2ApDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGAke3JlY29yZC5ub30g6K6i6ZiF5aSx6LSl77yM6KeE5YiZ5bey5YWz6ZetYCkNCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZU9rICgpIHsNCiAgICAgIHRoaXMuJHJlZnMudGFibGUucmVmcmVzaCgpDQogICAgfSwNCiAgICBvblNlbGVjdENoYW5nZSAoc2VsZWN0ZWRSb3dLZXlzLCBzZWxlY3RlZFJvd3MpIHsNCiAgICAgIHRoaXMuc2VsZWN0ZWRSb3dLZXlzID0gc2VsZWN0ZWRSb3dLZXlzDQogICAgICB0aGlzLnNlbGVjdGVkUm93cyA9IHNlbGVjdGVkUm93cw0KICAgIH0sDQogICAgdG9nZ2xlQWR2YW5jZWQgKCkgew0KICAgICAgdGhpcy5hZHZhbmNlZCA9ICF0aGlzLmFkdmFuY2VkDQogICAgfSwNCiAgICByZXNldFNlYXJjaEZvcm0gKCkgew0KICAgICAgdGhpcy5xdWVyeVBhcmFtID0gew0KICAgICAgICBkYXRlOiBtb21lbnQobmV3IERhdGUoKSkNCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["TableList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TableList.vue","sourceRoot":"src/views/list","sourcesContent":["<template>\r\n  <a-card :bordered=\"false\">\r\n    <div class=\"table-page-search-wrapper\">\r\n      <a-form layout=\"inline\">\r\n        <a-row :gutter=\"48\">\r\n          <a-col :md=\"8\" :sm=\"24\">\r\n            <a-form-item label=\"规则编号\">\r\n              <a-input v-model=\"queryParam.id\" placeholder=\"\"/>\r\n            </a-form-item>\r\n          </a-col>\r\n          <a-col :md=\"8\" :sm=\"24\">\r\n            <a-form-item label=\"使用状态\">\r\n              <a-select v-model=\"queryParam.status\" placeholder=\"请选择\" default-value=\"0\">\r\n                <a-select-option value=\"0\">全部</a-select-option>\r\n                <a-select-option value=\"1\">关闭</a-select-option>\r\n                <a-select-option value=\"2\">运行中</a-select-option>\r\n              </a-select>\r\n            </a-form-item>\r\n          </a-col>\r\n          <template v-if=\"advanced\">\r\n            <a-col :md=\"8\" :sm=\"24\">\r\n              <a-form-item label=\"调用次数\">\r\n                <a-input-number v-model=\"queryParam.callNo\" style=\"width: 100%\"/>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\">\r\n              <a-form-item label=\"更新日期\">\r\n                <a-date-picker v-model=\"queryParam.date\" style=\"width: 100%\" placeholder=\"请输入更新日期\"/>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\">\r\n              <a-form-item label=\"使用状态\">\r\n                <a-select v-model=\"queryParam.useStatus\" placeholder=\"请选择\" default-value=\"0\">\r\n                  <a-select-option value=\"0\">全部</a-select-option>\r\n                  <a-select-option value=\"1\">关闭</a-select-option>\r\n                  <a-select-option value=\"2\">运行中</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\">\r\n              <a-form-item label=\"使用状态\">\r\n                <a-select placeholder=\"请选择\" default-value=\"0\">\r\n                  <a-select-option value=\"0\">全部</a-select-option>\r\n                  <a-select-option value=\"1\">关闭</a-select-option>\r\n                  <a-select-option value=\"2\">运行中</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n          </template>\r\n          <a-col :md=\"!advanced && 8 || 24\" :sm=\"24\">\r\n            <span class=\"table-page-search-submitButtons\" :style=\"advanced && { float: 'right', overflow: 'hidden' } || {} \">\r\n              <a-button type=\"primary\" @click=\"$refs.table.refresh(true)\">查询</a-button>\r\n              <a-button style=\"margin-left: 8px\" @click=\"() => queryParam = {}\">重置</a-button>\r\n              <a @click=\"toggleAdvanced\" style=\"margin-left: 8px\">\r\n                {{ advanced ? '收起' : '展开' }}\r\n                <a-icon :type=\"advanced ? 'up' : 'down'\"/>\r\n              </a>\r\n            </span>\r\n          </a-col>\r\n        </a-row>\r\n      </a-form>\r\n    </div>\r\n\r\n    <div class=\"table-operator\">\r\n      <a-button type=\"primary\" icon=\"plus\" @click=\"$refs.createModal.add()\">新建</a-button>\r\n      <a-button type=\"dashed\" @click=\"tableOption\">{{ optionAlertShow && '关闭' || '开启' }} alert</a-button>\r\n      <a-dropdown v-action:edit v-if=\"selectedRowKeys.length > 0\">\r\n        <a-menu slot=\"overlay\">\r\n          <a-menu-item key=\"1\"><a-icon type=\"delete\" />删除</a-menu-item>\r\n          <!-- lock | unlock -->\r\n          <a-menu-item key=\"2\"><a-icon type=\"lock\" />锁定</a-menu-item>\r\n        </a-menu>\r\n        <a-button style=\"margin-left: 8px\">\r\n          批量操作 <a-icon type=\"down\" />\r\n        </a-button>\r\n      </a-dropdown>\r\n    </div>\r\n\r\n    <s-table\r\n      ref=\"table\"\r\n      size=\"default\"\r\n      rowKey=\"key\"\r\n      :columns=\"columns\"\r\n      :data=\"loadData\"\r\n      :alert=\"options.alert\"\r\n      :rowSelection=\"options.rowSelection\"\r\n      showPagination=\"auto\"\r\n    >\r\n      <span slot=\"serial\" slot-scope=\"text, record, index\">\r\n        {{ index + 1 }}\r\n      </span>\r\n      <span slot=\"status\" slot-scope=\"text\">\r\n        <a-badge :status=\"text | statusTypeFilter\" :text=\"text | statusFilter\" />\r\n      </span>\r\n      <span slot=\"description\" slot-scope=\"text\">\r\n        <ellipsis :length=\"4\" tooltip>{{ text }}</ellipsis>\r\n      </span>\r\n\r\n      <span slot=\"action\" slot-scope=\"text, record\">\r\n        <template>\r\n          <a @click=\"handleEdit(record)\">配置</a>\r\n          <a-divider type=\"vertical\" />\r\n          <a @click=\"handleSub(record)\">订阅报警</a>\r\n        </template>\r\n      </span>\r\n    </s-table>\r\n    <create-form ref=\"createModal\" @ok=\"handleOk\" />\r\n    <step-by-step-modal ref=\"modal\" @ok=\"handleOk\"/>\r\n  </a-card>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport { STable, Ellipsis } from '@/components'\r\nimport StepByStepModal from './modules/StepByStepModal'\r\nimport CreateForm from './modules/CreateForm'\r\nimport { getRoleList, getServiceList } from '@/api/manage'\r\n\r\nconst statusMap = {\r\n  0: {\r\n    status: 'default',\r\n    text: '关闭'\r\n  },\r\n  1: {\r\n    status: 'processing',\r\n    text: '运行中'\r\n  },\r\n  2: {\r\n    status: 'success',\r\n    text: '已上线'\r\n  },\r\n  3: {\r\n    status: 'error',\r\n    text: '异常'\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'TableList',\r\n  components: {\r\n    STable,\r\n    Ellipsis,\r\n    CreateForm,\r\n    StepByStepModal\r\n  },\r\n  data () {\r\n    return {\r\n      mdl: {},\r\n      // 高级搜索 展开/关闭\r\n      advanced: false,\r\n      // 查询参数\r\n      queryParam: {},\r\n      // 表头\r\n      columns: [\r\n        {\r\n          title: '#',\r\n          scopedSlots: { customRender: 'serial' }\r\n        },\r\n        {\r\n          title: '规则编号',\r\n          dataIndex: 'no'\r\n        },\r\n        {\r\n          title: '描述',\r\n          dataIndex: 'description',\r\n          scopedSlots: { customRender: 'description' }\r\n        },\r\n        {\r\n          title: '服务调用次数',\r\n          dataIndex: 'callNo',\r\n          sorter: true,\r\n          needTotal: true,\r\n          customRender: (text) => text + ' 次'\r\n        },\r\n        {\r\n          title: '状态',\r\n          dataIndex: 'status',\r\n          scopedSlots: { customRender: 'status' }\r\n        },\r\n        {\r\n          title: '更新时间',\r\n          dataIndex: 'updatedAt',\r\n          sorter: true\r\n        },\r\n        {\r\n          title: '操作',\r\n          dataIndex: 'action',\r\n          width: '150px',\r\n          scopedSlots: { customRender: 'action' }\r\n        }\r\n      ],\r\n      // 加载数据方法 必须为 Promise 对象\r\n      loadData: parameter => {\r\n        console.log('loadData.parameter', parameter)\r\n        return getServiceList(Object.assign(parameter, this.queryParam))\r\n          .then(res => {\r\n            return res.result\r\n          })\r\n      },\r\n      selectedRowKeys: [],\r\n      selectedRows: [],\r\n\r\n      // custom table alert & rowSelection\r\n      options: {\r\n        alert: { show: true, clear: () => { this.selectedRowKeys = [] } },\r\n        rowSelection: {\r\n          selectedRowKeys: this.selectedRowKeys,\r\n          onChange: this.onSelectChange\r\n        }\r\n      },\r\n      optionAlertShow: false\r\n    }\r\n  },\r\n  filters: {\r\n    statusFilter (type) {\r\n      return statusMap[type].text\r\n    },\r\n    statusTypeFilter (type) {\r\n      return statusMap[type].status\r\n    }\r\n  },\r\n  created () {\r\n    this.tableOption()\r\n    getRoleList({ t: new Date() })\r\n  },\r\n  methods: {\r\n    tableOption () {\r\n      if (!this.optionAlertShow) {\r\n        this.options = {\r\n          alert: { show: true, clear: () => { this.selectedRowKeys = [] } },\r\n          rowSelection: {\r\n            selectedRowKeys: this.selectedRowKeys,\r\n            onChange: this.onSelectChange,\r\n            getCheckboxProps: record => ({\r\n              props: {\r\n                disabled: record.no === 'No 2', // Column configuration not to be checked\r\n                name: record.no\r\n              }\r\n            })\r\n          }\r\n        }\r\n        this.optionAlertShow = true\r\n      } else {\r\n        this.options = {\r\n          alert: false,\r\n          rowSelection: null\r\n        }\r\n        this.optionAlertShow = false\r\n      }\r\n    },\r\n\r\n    handleEdit (record) {\r\n      console.log(record)\r\n      this.$refs.modal.edit(record)\r\n    },\r\n    handleSub (record) {\r\n      if (record.status !== 0) {\r\n        this.$message.info(`${record.no} 订阅成功`)\r\n      } else {\r\n        this.$message.error(`${record.no} 订阅失败，规则已关闭`)\r\n      }\r\n    },\r\n    handleOk () {\r\n      this.$refs.table.refresh()\r\n    },\r\n    onSelectChange (selectedRowKeys, selectedRows) {\r\n      this.selectedRowKeys = selectedRowKeys\r\n      this.selectedRows = selectedRows\r\n    },\r\n    toggleAdvanced () {\r\n      this.advanced = !this.advanced\r\n    },\r\n    resetSearchForm () {\r\n      this.queryParam = {\r\n        date: moment(new Date())\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}